!function t(e,n,i){function a(r,s){if(!n[r]){if(!e[r]){var c="function"==typeof require&&require;if(!s&&c)return c(r,!0);if(o)return o(r,!0);var l=new Error("Cannot find module '"+r+"'");throw l.code="MODULE_NOT_FOUND",l}var d=n[r]={exports:{}};e[r][0].call(d.exports,function(t){var n=e[r][1][t];return a(n||t)},d,d.exports,t,e,n,i)}return n[r].exports}for(var o="function"==typeof require&&require,r=0;r<i.length;r++)a(i[r]);return a}({1:[function(t,e,n){"use strict";e.exports={apiKey:"AIzaSyCsTL7ZOxNOAUByHQVgGAUIW6OcjXbaCDQ",authDomain:"borkedin.firebaseapp.com",databaseURL:"https://borkedin.firebaseio.com",projectId:"borkedin",storageBucket:"",messagingSenderId:"769825906375"}},{}],2:[function(t,e,n){"use strict";function i(t){Array.from(document.getElementsByClassName("page-hidden")).forEach(function(t){t.style.display="none"}),document.getElementById("page-"+t).style.display="block"}function a(t){if(v.innerText=t.name,h.innerText=t.address,y.src="https://maps.googleapis.com/maps/api/streetview?size=600x300&location="+t.latitude+","+t.longitude+"&heading=151.78&pitch=-0.76&key="+p,k.style.display="none",w.style.display="none",t.name in g){var e=g[t.name];e.vr&&(w.href="./"+e.vr+".html",w.style.display="inline-block"),e.meetup&&(k.href=e.meetup,k.style.display="inline-block")}}function o(t){var e={title:E.value,range:b.value,description:x.value};return f.ref("profile/"+t+"/experience").push(e)}function r(t,e){B=t,i("profile"),f.ref("profile/"+t).on("value",function(t){s(t.val()||{})}),Array.from(document.getElementsByClassName("for-editor")).forEach(function(t){e?t.classList.remove("is-hidden"):t.classList.add("is-hidden")}),e&&I.addEventListener("click",function(e){o(t).then(function(t){}).catch(console.error)})}function s(t){console.log(t),_.innerText=t.name,L.style.backgroundImage="url('"+t.image+"')",E.value="",b.value="",x.value="",C.innerHTML="";var e=t.experience||{};for(var n in e){var i=t.experience[n],a=d.getExperienceCard(i);C.appendChild(a)}T.innerHTML="";var o=t.skills||{},r=Object.keys(o).map(function(t){return o[t]}).sort(function(t,e){return e.endorsements-t.endorsements});r.forEach(function(t){var e=d.getSkillRow(t);T.appendChild(e)}),M.innerHTML="";var s=r[0].id;f.ref("profile").orderByChild("skills/"+s+"/endorsements").limitToLast(6).once("value",function(t){var e=t.val()||{};for(var n in e){var i=e[n],a=d.getConnectionCard(i);M.appendChild(a)}})}function c(t){u.CITIES.indexOf(t)>-1?(i("parks"),u.getParks(t).then(function(t){var e=document.getElementById("map-holder");u.renderMap(t,e,a);a(t[0])}).catch(console.error)):document.location="./#/404"}function l(){i("landing"),f.ref("profile").once("value",function(t){var e=t.val()||{};P.innerHTML="";for(var n in e){var i=e[n],a=d.getLandingCard(i);P.appendChild(a)}})}var d=t("./views").Views(),u=t("./parks").ParksModule(),m=t("./config"),f=firebase.initializeApp(m).database(),p="AIzaSyBIZRYftboGELfzOFmSUrcMkYwWtQN7sF8",g=(function(t){t=t.split("+").join(" ");for(var e,n={},i=/[?&]?([^=]+)=([^&]*)/g;e=i.exec(t);)n[decodeURIComponent(e[1])]=decodeURIComponent(e[2]);return n}(document.location.search).game,{"Centennial Park":{vr:"cen",meetup:"https://www.facebook.com/329221374096563/photos/a.329225124096188.1073741827.329221374096563/559837747701590"},"William A. Pitts Park":{vr:"wap"},"Edwin Warner Park":{meetup:"https://www.meetup.com/Nashville-BarkHappy-Dog-Meetup/"}}),v=document.getElementById("park-name"),h=document.getElementById("park-address"),y=document.getElementById("park-image"),k=document.getElementById("park-meetup"),w=document.getElementById("park-vr"),E=document.getElementById("experience-title"),b=document.getElementById("experience-range"),x=document.getElementById("experience-description"),I=document.getElementById("experience-submit"),B=!1,_=document.getElementById("profile-doggo-name"),L=document.getElementById("profile-doggo-image"),C=document.getElementById("experience-holder"),T=document.getElementById("skill-holder"),M=document.getElementById("connection-holder"),P=document.getElementById("landing-holder");document.getElementById("secret-rename").addEventListener("click",function(t){var e=prompt("Enter a New Name");f.ref("profile/"+B+"/name").set(e)}),window.sendPats=function(){document.getElementById("pats-holder").innerHTML='\n\t\t<ul class="pats">\n\t\t\t<div class="pat"></div>\n\t\t\t<div class="pat"></div>\n\t\t\t<div class="pat"></div>\n\t\t\t<div class="pat"></div>\n\t\t\t<div class="pat"></div>\n\t\t</ul>\n\t',setTimeout(function(){Array.from(document.getElementsByClassName("pat")).forEach(function(t){t.style.display="none"})},7e3)};var F={bruno:"889880896479866881",snuggles:"900429189278511105"};window.main=function(){l();var t={"/":function(){l()},"/profile":function(){l()},"/profile/:profileid":function(t){console.log(t),t in F&&(t=F[t]),r(t,!1)},"/profile/:profileid/edit":function(t){console.log(t),t in F&&(t=F[t]),r(t,!0)},"/parks":function(){c("nashville")},"/parks/:cityid":function(t){console.log(t),c(t)},"/vr/:parkid":function(t){console.log(t),document.location="./"+t+".html"},"/404":function(){i("404")}};Router(t).init()}},{"./config":1,"./parks":3,"./views":4}],3:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i={nashville:function(){return new Promise(function(t,e){$.get("https://data.nashville.gov/resource/xbru-cfzi.json",{dog_park:"Yes"}).then(function(e){var n=e.filter(function(t){return t.mapped_location}).map(function(t){return{name:t.park_name,address:t.mapped_location_address,latitude:t.mapped_location.coordinates[1],longitude:t.mapped_location.coordinates[0],cityid:"nashville",data:t}});t(n)}).catch(e)})},chicago:function(){return new Promise(function(t,e){$.get("https://data.cityofchicago.org/resource/4xwe-2j3y.json",{$where:"dog_friendly >= 1"}).then(function(e){var n=e.filter(function(t){return t.location}).map(function(t){return{name:t.park_name,address:t.location_address,latitude:t.location.coordinates[1],longitude:t.location.coordinates[0],cityid:"chicago",data:t}});t(n)}).catch(e)})},losangeles:function(){return new Promise(function(t,e){$.get("https://data.lacity.org/resource/xyvg-dst2.json",{locationtype:"Dog Parks"}).then(function(e){var n=e.filter(function(t){return t.geolat&&t.geolong}).map(function(t){return{name:t.location_name,address:(t.stnumber||"")+" "+(t.stdirection||"")+" "+(t.stname||"")+" "+(t.stsuffix||""),latitude:parseFloat(t.geolat),longitude:parseFloat(t.geolong),cityid:"losangeles",data:t}});t(n)}).catch(e)})},newyork:function(){return new Promise(function(t,e){$.get("https://data.cityofnewyork.us/resource/p7jc-c8ak.json",{typecatego:"Community Park"}).then(function(e){var n=e.filter(function(t){return t.the_geom}).map(function(t){var e=t.the_geom.coordinates[0][0][0];return{name:t.signname,address:t.location,latitude:e[1],longitude:e[0],cityid:"newyork",data:t}});t(n)}).catch(e)})},seattle:function(){return new Promise(function(t,e){$.get("https://data.seattle.gov/resource/fa7z-wkeh.json",{}).then(function(e){var n=e.filter(function(t){return t.location_1}).map(function(t){var e={};try{e=JSON.parse(t.location_1)}catch(t){}return{name:t.common_name,address:e.address||"No Address",latitude:parseFloat(t.location_1.latitude),longitude:parseFloat(t.location_1.longitude),cityid:"seattle",data:t}});t(n)}).catch(e)})},calgary:function(){return new Promise(function(t,e){$.get("https://data.calgary.ca/resource/enr4-crti.json",{}).then(function(e){console.log(e);var n=e.filter(function(t){return t.the_geom}).map(function(t){var e=t.the_geom.coordinates[0][0][0];return{name:t.description,address:t.off_leash_area_id,latitude:e[1],longitude:e[0],cityid:"calgary",data:t}});t(n)}).catch(e)})}};n.ParksModule=function(){return{CITIES:Object.keys(i),getParks:function(t){return new Promise(function(e,n){var a=i[t];a?a().then(e).catch(n):n("We do not currently have data for this city. Message your city council!")})},renderMap:function(t,e,n){for(var i=t[0],a=new google.maps.Map(e,{center:{lat:i.latitude,lng:i.longitude},zoom:10,styles:[{featureType:"landscape",stylers:[{hue:"#FFA800"},{saturation:0},{lightness:0},{gamma:1}]},{featureType:"road.highway",stylers:[{hue:"#53FF00"},{saturation:-73},{lightness:40},{gamma:1}]},{featureType:"road.arterial",stylers:[{hue:"#FBFF00"},{saturation:0},{lightness:0},{gamma:1}]},{featureType:"road.local",stylers:[{hue:"#00FFFD"},{saturation:0},{lightness:30},{gamma:1}]},{featureType:"water",stylers:[{hue:"#00BFFF"},{saturation:6},{lightness:8},{gamma:1}]},{featureType:"poi",stylers:[{hue:"#679714"},{saturation:33.4},{lightness:-25.4},{gamma:1}]}]}),o=!1,r=0;r<t.length;r++)!function(){var e=t[r],i="\n\t\t\t\t\t<h1>"+e.name+"</h1>\n\t\t\t\t",s=new google.maps.InfoWindow({content:i}),c=new google.maps.Marker({position:{lat:e.latitude,lng:e.longitude},map:a,title:e.name});c.addListener("click",function(){n(e),s.open(a,c),o&&o.close(),o=s})}();return a}}}},{}],4:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});n.Views=function(){return{getExperienceCard:function(t){var e='\n\t\t\t\t<div class="media">\n\t\t\t\t\t<div class="media-left">\n\t\t\t\t\t\t<figure class="image is-64x64">\n\t\t\t\t\t\t\t<img src="./public/img/doggoaward.png" alt="Placeholder image">\n\t\t\t\t\t\t</figure>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="media-content">\n\t\t\t\t\t\t<h3 class="title is-3">'+t.title+'</h3>\n\t\t\t\t\t\t<p class="subtitle is-5">'+t.range+"</p>\n\t\t\t\t\t\t<p>"+t.description+"</p>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t",n=document.createElement("div");return n.innerHTML=e,n.classList.add("profile-experience"),n},getSkillRow:function(t){var e=t.frequency<.45?"is-success":"is-warning",n=t.endorsements;n>999&&(n=(n/1e3).toFixed(1)+"k");var i='\n\t\t\t\t<td>\n\t\t\t\t\t<div class="tags has-addons">\n\t\t\t\t\t\t<span class="tag is-medium">'+t.skill+'</i></span>\n\t\t\t\t\t\t<span class="tag is-medium '+e+'">'+n+'</i></span>\n\t\t\t\t\t</div>\n\t\t\t\t</td>\n\t\t\t\t<td>\n\t\t\t\t\t<p class="has-text-right"><span class="is-bold">'+Math.round(100*t.frequency)+"%</span> of members are skilled in this.</p>\n\t\t\t\t</td>\n\t\t\t",a=document.createElement("tr");return a.innerHTML=i,a},getConnectionCard:function(t){var e=Object.keys(t.skills||{}).map(function(e){return t.skills[e]}).sort(function(t,e){return e.confidence-t.confidence}).sort(function(t,e){return e.endorsements-t.endorsements}).sort(function(t,e){return t.frequency-e.frequency})[0]||{},n='\n\t\t\t\t<a href="./#/profile/'+t.id+'">\n\t\t\t\t\t<div class="media">\n\t\t\t\t\t\t<div class="media-left">\n\t\t\t\t\t\t\t<figure class="image is-64x64">\n\t\t\t\t\t\t\t\t<div class="is-filled-image" style="background-image: url(\''+t.image+'\');"></div>\n\t\t\t\t\t\t\t</figure>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class="media-content">\n\t\t\t\t\t\t\t<h4 class="title is-4">'+t.name+'</h4>\n\t\t\t\t\t\t\t<p class="subtitle is-6 is-followed">Highly Skilled at '+(e.skill||"Smooches")+"</p>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</a>\n\t\t\t",i=document.createElement("div");return i.innerHTML=n,i.classList.add("column"),i.classList.add("is-6"),i},getLandingCard:function(t){var e='\n\t\t\t\t<div class="box">\n\t\t\t\t\t<div class="image is-225x225">\n\t\t\t\t\t\t<div class="is-filled-image" style="background-image: url(\''+t.image+'\');"></div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<h2 class="title is-2 is-neatly-spaced">'+t.name+'</h2>\n\t\t\t\t\t<a href="./#/profile/'+t.id+'" class="button is-primary is-outlined">View Profile</a>\n\t\t\t\t</div>\n\t\t\t',n=document.createElement("div");return n.innerHTML=e,n.classList.add("column"),n.classList.add("is-3"),n}}}},{}]},{},[2]);
//# sourceMappingURL=maps/main.js.map
