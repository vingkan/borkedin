{"version":3,"sources":["main.js"],"names":["e","t","n","r","s","o","u","a","require","i","f","Error","code","l","exports","call","length","1","module","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","2","showPage","id","videoHolder","innerHTML","Array","from","document","getElementsByClassName","forEach","page","style","display","getElementById","onMarkerClick","park","parkName","innerText","name","addExperience","profileid","exp","title","expTitle","value","range","expRange","description","expDesc","db","ref","push","renderProfile","profile","console","log","doggoName","doggoImage","backgroundImage","image","expHolder","expMap","experience","expid","v","views","getExperienceCard","appendChild","skillHolder","skillMap","skills","Object","keys","map","key","sort","b","endorsements","skill","getSkillRow","Views","parksModule","ParksModule","config","firebase","initializeApp","database","qs","split","join","tokens","params","re","exec","decodeURIComponent","getQueryParams","location","search","expSubmit","window","main","routes","/profile/:profileid","on","snap","val","addEventListener","then","done","catch","error","/parks/:cityid","cityid","getParks","data","mapEl","renderMap","/vr/:parkid","parkid","html","Router","init","./config","./parks","./views","3","defineProperty","cityParksGetter","nashville","Promise","resolve","reject","$","get","dog_park","cleaned","filter","mapped_location","park_name","latitude","coordinates","longitude","chicago","$where","losangeles","locationtype","geolat","geolong","location_name","parseFloat","newyork","typecatego","the_geom","coords","signname","seattle","location_1","common_name","calgary","getter","list","element","first","google","maps","Map","center","lat","lng","zoom","styles","featureType","stylers","hue","saturation","lightness","gamma","lastWindow","infowindow","InfoWindow","content","marker","Marker","position","addListener","open","close","_loop","4","model","div","createElement","classList","add","classColor","frequency","Math","round","tr"],"mappings":"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","file":"../main.js","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){\n\"use strict\";\n\nmodule.exports = {\n\tapiKey: \"AIzaSyCsTL7ZOxNOAUByHQVgGAUIW6OcjXbaCDQ\",\n\tauthDomain: \"borkedin.firebaseapp.com\",\n\tdatabaseURL: \"https://borkedin.firebaseio.com\",\n\tprojectId: \"borkedin\",\n\tstorageBucket: \"\",\n\tmessagingSenderId: \"769825906375\"\n};\n\n},{}],2:[function(require,module,exports){\n'use strict';\n\nvar vm = require('./views');\nvar views = vm.Views();\nvar pm = require('./parks');\nvar parksModule = pm.ParksModule();\nvar config = require('./config');\nvar FirebaseApp = firebase.initializeApp(config);\nvar db = FirebaseApp.database();\n\nvar GOOGLE_MAPS_API_KEY = 'AIzaSyBIZRYftboGELfzOFmSUrcMkYwWtQN7sF8';\nvar PARAMS = getQueryParams(document.location.search);\n\nfunction getQueryParams(qs) {\n\tqs = qs.split('+').join(' ');\n\tvar params = {},\n\t    tokens,\n\t    re = /[?&]?([^=]+)=([^&]*)/g;\n\twhile (tokens = re.exec(qs)) {\n\t\tparams[decodeURIComponent(tokens[1])] = decodeURIComponent(tokens[2]);\n\t}\n\treturn params;\n}\n\nvar videoHolder = document.getElementById('video-holder');\n\nfunction showPage(id) {\n\tif (id !== 'vr') {\n\t\tvideoHolder.innerHTML = '';\n\t}\n\tArray.from(document.getElementsByClassName('page-hidden')).forEach(function (page) {\n\t\tpage.style.display = 'none';\n\t});\n\tdocument.getElementById('page-' + id).style.display = 'block';\n}\n\nvar parkName = document.getElementById('park-name');\nvar parkImage = document.getElementById('park-image');\n\nfunction onMarkerClick(park) {\n\tparkName.innerText = park.name;\n\t//parkImage.src = `https://maps.googleapis.com/maps/api/streetview?size=600x300&location=${park.latitude},${park.longitude}&heading=151.78&pitch=-0.76&key=${GOOGLE_MAPS_API_KEY}`;\n}\n\nvar expTitle = document.getElementById('experience-title');\nvar expRange = document.getElementById('experience-range');\nvar expDesc = document.getElementById('experience-description');\nvar expSubmit = document.getElementById('experience-submit');\n\nfunction addExperience(profileid) {\n\tvar exp = {\n\t\ttitle: expTitle.value,\n\t\trange: expRange.value,\n\t\tdescription: expDesc.value\n\t};\n\treturn db.ref('profile/' + profileid + '/experience').push(exp);\n}\n\nvar doggoName = document.getElementById('profile-doggo-name');\nvar doggoImage = document.getElementById('profile-doggo-image');\nvar expHolder = document.getElementById('experience-holder');\nvar skillHolder = document.getElementById('skill-holder');\n\nfunction renderProfile(profile) {\n\tconsole.log(profile);\n\tdoggoName.innerText = profile.name;\n\tdoggoImage.style.backgroundImage = 'url(\\'' + profile.image + '\\')';\n\texpTitle.value = '';\n\texpRange.value = '';\n\texpDesc.value = '';\n\texpHolder.innerHTML = '';\n\tvar expMap = profile.experience || {};\n\tfor (var expid in expMap) {\n\t\tvar exp = profile.experience[expid];\n\t\tvar v = views.getExperienceCard(exp);\n\t\texpHolder.appendChild(v);\n\t}\n\tskillHolder.innerHTML = '';\n\tvar skillMap = profile.skills || {};\n\tObject.keys(skillMap).map(function (key) {\n\t\treturn skillMap[key];\n\t}).sort(function (a, b) {\n\t\treturn b.endorsements - a.endorsements;\n\t}).forEach(function (skill) {\n\t\tvar v = views.getSkillRow(skill);\n\t\tskillHolder.appendChild(v);\n\t});\n}\n\nwindow.main = function () {\n\n\tvar routes = {\n\n\t\t'/profile/:profileid': function profileProfileid(profileid) {\n\n\t\t\tconsole.log(profileid);\n\t\t\tshowPage('profile');\n\n\t\t\tdb.ref('profile/' + profileid).on('value', function (snap) {\n\t\t\t\tvar val = snap.val() || {};\n\t\t\t\trenderProfile(val);\n\t\t\t});\n\n\t\t\texpSubmit.addEventListener('click', function (e) {\n\t\t\t\taddExperience(profileid).then(function (done) {\n\t\t\t\t\t// \n\t\t\t\t}).catch(console.error);\n\t\t\t});\n\t\t},\n\n\t\t'/parks/:cityid': function parksCityid(cityid) {\n\t\t\tconsole.log(cityid);\n\t\t\tshowPage('parks');\n\t\t\tparksModule.getParks(cityid).then(function (data) {\n\n\t\t\t\tvar mapEl = document.getElementById('map-holder');\n\t\t\t\tvar map = parksModule.renderMap(data, mapEl, onMarkerClick);\n\t\t\t}).catch(console.error);\n\t\t},\n\n\t\t'/vr/:parkid': function vrParkid(parkid) {\n\t\t\tconsole.log(parkid);\n\t\t\tvar html = '\\n\\t\\t\\t\\t<a-scene>\\n\\t\\t\\t\\t\\t<a-assets>\\n\\t\\t\\t\\t\\t\\t<video id=\"video\" src=\"./public/video/' + parkid + '.mp4\" autoplay loop crossorigin=\"anonymous\"></video>\\n\\t\\t\\t\\t\\t</a-assets>\\n\\t\\t\\t\\t\\t<a-videosphere src=\"#video\" rotation=\"0 180 0\"></a-videosphere>\\n\\t\\t\\t\\t</a-scene>\\n\\t\\t\\t';\n\t\t\tvideoHolder.innerHTML = html;\n\t\t\tconsole.log(videoHolder);\n\t\t\tshowPage('vr');\n\t\t}\n\n\t};\n\n\tvar router = Router(routes);\n\trouter.init();\n};\n\n},{\"./config\":1,\"./parks\":3,\"./views\":4}],3:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\nvar cityParksGetter = {\n\n\tnashville: function nashville() {\n\t\treturn new Promise(function (resolve, reject) {\n\t\t\t$.get('https://data.nashville.gov/resource/xbru-cfzi.json', {\n\t\t\t\t'dog_park': 'Yes'\n\t\t\t}).then(function (data) {\n\t\t\t\tvar cleaned = data.filter(function (park) {\n\t\t\t\t\treturn park.mapped_location;\n\t\t\t\t}).map(function (park) {\n\t\t\t\t\tvar entry = {\n\t\t\t\t\t\tname: park.park_name,\n\t\t\t\t\t\tlatitude: park.mapped_location.coordinates[1],\n\t\t\t\t\t\tlongitude: park.mapped_location.coordinates[0],\n\t\t\t\t\t\tcityid: 'nashville',\n\t\t\t\t\t\tdata: park\n\t\t\t\t\t};\n\t\t\t\t\treturn entry;\n\t\t\t\t});\n\t\t\t\tresolve(cleaned);\n\t\t\t}).catch(reject);\n\t\t});\n\t},\n\n\tchicago: function chicago() {\n\t\treturn new Promise(function (resolve, reject) {\n\t\t\t$.get(\"https://data.cityofchicago.org/resource/4xwe-2j3y.json\", {\n\t\t\t\t'$where': 'dog_friendly >= 0'\n\t\t\t}).then(function (data) {\n\t\t\t\tvar cleaned = data.filter(function (park) {\n\t\t\t\t\treturn park.location;\n\t\t\t\t}).map(function (park) {\n\t\t\t\t\tvar entry = {\n\t\t\t\t\t\tname: park.park_name,\n\t\t\t\t\t\tlatitude: park.location.coordinates[1],\n\t\t\t\t\t\tlongitude: park.location.coordinates[0],\n\t\t\t\t\t\tcityid: 'chicago',\n\t\t\t\t\t\tdata: park\n\t\t\t\t\t};\n\t\t\t\t\treturn entry;\n\t\t\t\t});\n\t\t\t\tresolve(cleaned);\n\t\t\t}).catch(reject);\n\t\t});\n\t},\n\n\tlosangeles: function losangeles() {\n\t\treturn new Promise(function (resolve, reject) {\n\t\t\t$.get('https://data.lacity.org/resource/xyvg-dst2.json', {\n\t\t\t\t'locationtype': 'Dog Parks'\n\t\t\t}).then(function (data) {\n\t\t\t\tvar cleaned = data.filter(function (park) {\n\t\t\t\t\treturn park.geolat && park.geolong;\n\t\t\t\t}).map(function (park) {\n\t\t\t\t\tvar entry = {\n\t\t\t\t\t\tname: park.location_name,\n\t\t\t\t\t\tlatitude: parseFloat(park.geolat),\n\t\t\t\t\t\tlongitude: parseFloat(park.geolong),\n\t\t\t\t\t\tcityid: 'losangeles',\n\t\t\t\t\t\tdata: park\n\t\t\t\t\t};\n\t\t\t\t\treturn entry;\n\t\t\t\t});\n\t\t\t\tresolve(cleaned);\n\t\t\t}).catch(reject);\n\t\t});\n\t},\n\n\tnewyork: function newyork() {\n\t\treturn new Promise(function (resolve, reject) {\n\t\t\t$.get('https://data.cityofnewyork.us/resource/p7jc-c8ak.json', {\n\t\t\t\t'typecatego': 'Community Park'\n\t\t\t}).then(function (data) {\n\t\t\t\tvar cleaned = data.filter(function (park) {\n\t\t\t\t\treturn park.the_geom;\n\t\t\t\t}).map(function (park) {\n\t\t\t\t\tvar coords = park.the_geom.coordinates[0][0][0];\n\t\t\t\t\tvar entry = {\n\t\t\t\t\t\tname: park.signname,\n\t\t\t\t\t\tlatitude: coords[1],\n\t\t\t\t\t\tlongitude: coords[0],\n\t\t\t\t\t\tcityid: 'newyork',\n\t\t\t\t\t\tdata: park\n\t\t\t\t\t};\n\t\t\t\t\treturn entry;\n\t\t\t\t});\n\t\t\t\tresolve(cleaned);\n\t\t\t}).catch(reject);\n\t\t});\n\t},\n\n\tseattle: function seattle() {\n\t\treturn new Promise(function (resolve, reject) {\n\t\t\t$.get('https://data.seattle.gov/resource/fa7z-wkeh.json', {}).then(function (data) {\n\t\t\t\tvar cleaned = data.filter(function (park) {\n\t\t\t\t\treturn park.location_1;\n\t\t\t\t}).map(function (park) {\n\t\t\t\t\tvar entry = {\n\t\t\t\t\t\tname: park.common_name,\n\t\t\t\t\t\tlatitude: parseFloat(park.location_1.latitude),\n\t\t\t\t\t\tlongitude: parseFloat(park.location_1.longitude),\n\t\t\t\t\t\tcityid: 'seattle',\n\t\t\t\t\t\tdata: park\n\t\t\t\t\t};\n\t\t\t\t\treturn entry;\n\t\t\t\t});\n\t\t\t\tresolve(cleaned);\n\t\t\t}).catch(reject);\n\t\t});\n\t},\n\n\tcalgary: function calgary() {\n\t\treturn new Promise(function (resolve, reject) {\n\t\t\t$.get('https://data.calgary.ca/resource/enr4-crti.json', {}).then(function (data) {\n\t\t\t\tvar cleaned = data.filter(function (park) {\n\t\t\t\t\treturn park.the_geom;\n\t\t\t\t}).map(function (park) {\n\t\t\t\t\tvar coords = park.the_geom.coordinates[0][0][0];\n\t\t\t\t\tvar entry = {\n\t\t\t\t\t\tname: park.description,\n\t\t\t\t\t\tlatitude: coords[1],\n\t\t\t\t\t\tlongitude: coords[0],\n\t\t\t\t\t\tcityid: 'calgary',\n\t\t\t\t\t\tdata: park\n\t\t\t\t\t};\n\t\t\t\t\treturn entry;\n\t\t\t\t});\n\t\t\t\tresolve(cleaned);\n\t\t\t}).catch(reject);\n\t\t});\n\t}\n\n};\n\nvar ParksModule = function ParksModule() {\n\n\tvar pmod = {\n\n\t\tgetParks: function getParks(cityid) {\n\t\t\treturn new Promise(function (resolve, reject) {\n\t\t\t\tvar getter = cityParksGetter[cityid];\n\t\t\t\tif (getter) {\n\t\t\t\t\tgetter().then(resolve).catch(reject);\n\t\t\t\t} else {\n\t\t\t\t\treject('We do not currently have data for this city. Message your city council!');\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\n\t\trenderMap: function renderMap(list, element, onMarkerClick) {\n\n\t\t\tvar first = list[0];\n\n\t\t\tvar map = new google.maps.Map(element, {\n\t\t\t\tcenter: { lat: first.latitude, lng: first.longitude },\n\t\t\t\tzoom: 10,\n\t\t\t\tstyles: [{ \"featureType\": \"landscape\", \"stylers\": [{ \"hue\": \"#FFA800\" }, { \"saturation\": 0 }, { \"lightness\": 0 }, { \"gamma\": 1 }] }, { \"featureType\": \"road.highway\", \"stylers\": [{ \"hue\": \"#53FF00\" }, { \"saturation\": -73 }, { \"lightness\": 40 }, { \"gamma\": 1 }] }, { \"featureType\": \"road.arterial\", \"stylers\": [{ \"hue\": \"#FBFF00\" }, { \"saturation\": 0 }, { \"lightness\": 0 }, { \"gamma\": 1 }] }, { \"featureType\": \"road.local\", \"stylers\": [{ \"hue\": \"#00FFFD\" }, { \"saturation\": 0 }, { \"lightness\": 30 }, { \"gamma\": 1 }] }, { \"featureType\": \"water\", \"stylers\": [{ \"hue\": \"#00BFFF\" }, { \"saturation\": 6 }, { \"lightness\": 8 }, { \"gamma\": 1 }] }, { \"featureType\": \"poi\", \"stylers\": [{ \"hue\": \"#679714\" }, { \"saturation\": 33.4 }, { \"lightness\": -25.4 }, { \"gamma\": 1 }] }]\n\t\t\t});\n\n\t\t\tvar lastWindow = false;\n\n\t\t\tvar _loop = function _loop() {\n\n\t\t\t\tvar park = list[i];\n\n\t\t\t\tvar html = '\\n\\t\\t\\t\\t\\t<h1>' + park.name + '</h1>\\n\\t\\t\\t\\t';\n\n\t\t\t\tvar infowindow = new google.maps.InfoWindow({\n\t\t\t\t\tcontent: html\n\t\t\t\t});\n\n\t\t\t\tvar marker = new google.maps.Marker({\n\t\t\t\t\tposition: { lat: park.latitude, lng: park.longitude },\n\t\t\t\t\tmap: map,\n\t\t\t\t\ttitle: park.name\n\t\t\t\t});\n\n\t\t\t\tmarker.addListener('click', function () {\n\t\t\t\t\tonMarkerClick(park);\n\t\t\t\t\tinfowindow.open(map, marker);\n\t\t\t\t\tif (lastWindow) {\n\t\t\t\t\t\tlastWindow.close();\n\t\t\t\t\t}\n\t\t\t\t\tlastWindow = infowindow;\n\t\t\t\t});\n\t\t\t};\n\n\t\t\tfor (var i = 0; i < list.length; i++) {\n\t\t\t\t_loop();\n\t\t\t}\n\n\t\t\treturn map;\n\t\t}\n\n\t};\n\n\treturn pmod;\n};\n\nexports.ParksModule = ParksModule;\n\n},{}],4:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\nvar Views = function Views() {\n\n\tvar views = {\n\n\t\tgetExperienceCard: function getExperienceCard(model) {\n\t\t\tvar html = '\\n\\t\\t\\t\\t<div class=\"media\">\\n\\t\\t\\t\\t\\t<div class=\"media-left\">\\n\\t\\t\\t\\t\\t\\t<figure class=\"image is-64x64\">\\n\\t\\t\\t\\t\\t\\t\\t<img src=\"https://bulma.io/images/placeholders/96x96.png\" alt=\"Placeholder image\">\\n\\t\\t\\t\\t\\t\\t</figure>\\n\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t<div class=\"media-content\">\\n\\t\\t\\t\\t\\t\\t<h3 class=\"title is-3\">' + model.title + '</h3>\\n\\t\\t\\t\\t\\t\\t<p class=\"subtitle is-5\">' + model.range + '</p>\\n\\t\\t\\t\\t\\t\\t<p>' + model.description + '</p>\\n\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t</div>\\n\\t\\t\\t';\n\t\t\tvar div = document.createElement('div');\n\t\t\tdiv.innerHTML = html;\n\t\t\tdiv.classList.add('profile-experience');\n\t\t\treturn div;\n\t\t},\n\n\t\tgetSkillRow: function getSkillRow(model) {\n\t\t\tvar classColor = model.frequency < 0.45 ? 'is-success' : 'is-warning';\n\t\t\tvar html = '\\n\\t\\t\\t\\t<td>\\n\\t\\t\\t\\t\\t<div class=\"tags has-addons\">\\n\\t\\t\\t\\t\\t\\t<span class=\"tag is-medium\">' + model.skill + '</i></span>\\n\\t\\t\\t\\t\\t\\t<span class=\"tag is-medium ' + classColor + '\">' + model.endorsements + '</i></span>\\n\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t</td>\\n\\t\\t\\t\\t<td>\\n\\t\\t\\t\\t\\t<p class=\"has-text-right\"><span class=\"is-bold\">' + Math.round(model.frequency * 100) + '%</span> of members are skilled in this.</p>\\n\\t\\t\\t\\t</td>\\n\\t\\t\\t';\n\t\t\tvar tr = document.createElement('tr');\n\t\t\ttr.innerHTML = html;\n\t\t\treturn tr;\n\t\t}\n\n\t};\n\n\treturn views;\n};\n\nexports.Views = Views;\n\n},{}]},{},[2])\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJzcmMvanMvY29uZmlnLmpzIiwic3JjL2pzL21haW4uanMiLCJzcmMvanMvcGFya3MuanMiLCJzcmMvanMvdmlld3MuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7OztBQ0FBLE9BQU8sT0FBUCxHQUFpQjtBQUNoQixTQUFRLHlDQURRO0FBRWhCLGFBQVksMEJBRkk7QUFHaEIsY0FBYSxpQ0FIRztBQUloQixZQUFXLFVBSks7QUFLaEIsZ0JBQWUsRUFMQztBQU1oQixvQkFBbUI7QUFOSCxDQUFqQjs7Ozs7QUNBQSxJQUFJLEtBQUssUUFBUSxTQUFSLENBQVQ7QUFDQSxJQUFJLFFBQVEsR0FBRyxLQUFILEVBQVo7QUFDQSxJQUFJLEtBQUssUUFBUSxTQUFSLENBQVQ7QUFDQSxJQUFJLGNBQWMsR0FBRyxXQUFILEVBQWxCO0FBQ0EsSUFBSSxTQUFTLFFBQVEsVUFBUixDQUFiO0FBQ0EsSUFBSSxjQUFjLFNBQVMsYUFBVCxDQUF1QixNQUF2QixDQUFsQjtBQUNBLElBQUksS0FBSyxZQUFZLFFBQVosRUFBVDs7QUFFQSxJQUFNLHNCQUFzQix5Q0FBNUI7QUFDQSxJQUFNLFNBQVMsZUFBZSxTQUFTLFFBQVQsQ0FBa0IsTUFBakMsQ0FBZjs7QUFFQSxTQUFTLGNBQVQsQ0FBd0IsRUFBeEIsRUFBNEI7QUFDM0IsTUFBSyxHQUFHLEtBQUgsQ0FBUyxHQUFULEVBQWMsSUFBZCxDQUFtQixHQUFuQixDQUFMO0FBQ0EsS0FBSSxTQUFTLEVBQWI7QUFBQSxLQUNDLE1BREQ7QUFBQSxLQUVDLEtBQUssdUJBRk47QUFHQSxRQUFPLFNBQVMsR0FBRyxJQUFILENBQVEsRUFBUixDQUFoQixFQUE2QjtBQUM1QixTQUFPLG1CQUFtQixPQUFPLENBQVAsQ0FBbkIsQ0FBUCxJQUF3QyxtQkFBbUIsT0FBTyxDQUFQLENBQW5CLENBQXhDO0FBQ0E7QUFDRCxRQUFPLE1BQVA7QUFDQTs7QUFFRCxJQUFJ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UyxFQUFYOztBQTJEQSxRQUFPLElBQVA7QUFDQSxDQTlERDs7UUFnRVEsVyxHQUFBLFc7Ozs7Ozs7O0FDMU1SLElBQUksUUFBUSxTQUFSLEtBQVEsR0FBTTs7QUFFakIsS0FBSSxRQUFROztBQUVYLHFCQUFtQiwyQkFBQyxLQUFELEVBQVc7QUFDN0IsT0FBSSxpVkFRd0IsTUFBTSxLQVI5QixvREFTMEIsTUFBTSxLQVRoQyw2QkFVSSxNQUFNLFdBVlYsbURBQUo7QUFjQSxPQUFJLE1BQU0sU0FBUyxhQUFULENBQXVCLEtBQXZCLENBQVY7QUFDQyxPQUFJLFNBQUosR0FBZ0IsSUFBaEI7QUFDQSxPQUFJLFNBQUosQ0FBYyxHQUFkLENBQWtCLG9CQUFsQjtBQUNELFVBQU8sR0FBUDtBQUNBLEdBckJVOztBQXVCWCxlQUFhLHFCQUFDLEtBQUQsRUFBVztBQUN2QixPQUFJLGFBQWMsTUFBTSxTQUFOLEdBQWtCLElBQW5CLEdBQTJCLFlBQTNCLEdBQTBDLFlBQTNEO0FBQ0EsT0FBSSw2R0FHNkIsTUFBTSxLQUhuQyw0REFJNEIsVUFKNUIsVUFJMkMsTUFBTSxZQUpqRCw4SEFRZ0QsS0FBSyxLQUFMLENBQVcsTUFBTSxTQUFOLEdBQWtCLEdBQTdCLENBUmhELHdFQUFKO0FBV0EsT0FBSSxLQUFLLFNBQVMsYUFBVCxDQUF1QixJQUF2QixDQUFUO0FBQ0MsTUFBRyxTQUFILEdBQWUsSUFBZjtBQUNELFVBQU8sRUFBUDtBQUNBOztBQXZDVSxFQUFaOztBQTJDQSxRQUFPLEtBQVA7QUFFQSxDQS9DRDs7UUFpRFEsSyxHQUFBLEsiLCJmaWxlIjoiZ2VuZXJhdGVkLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXNDb250ZW50IjpbIihmdW5jdGlvbiBlKHQsbixyKXtmdW5jdGlvbiBzKG8sdSl7aWYoIW5bb10pe2lmKCF0W29dKXt2YXIgYT10eXBlb2YgcmVxdWlyZT09XCJmdW5jdGlvblwiJiZyZXF1aXJlO2lmKCF1JiZhKXJldHVybiBhKG8sITApO2lmKGkpcmV0dXJuIGkobywhMCk7dmFyIGY9bmV3IEVycm9yKFwiQ2Fubm90IGZpbmQgbW9kdWxlICdcIitvK1wiJ1wiKTt0aHJvdyBmLmNvZGU9XCJNT0RVTEVfTk9UX0ZPVU5EXCIsZn12YXIgbD1uW29dPXtleHBvcnRzOnt9fTt0W29dWzBdLmNhbGwobC5leHBvcnRzLGZ1bmN0aW9uKGUpe3ZhciBuPXRbb11bMV1bZV07cmV0dXJuIHMobj9uOmUpfSxsLGwuZXhwb3J0cyxlLHQsbixyKX1yZXR1cm4gbltvXS5leHBvcnRzfXZhciBpPXR5cGVvZiByZXF1aXJlPT1cImZ1bmN0aW9uXCImJnJlcXVpcmU7Zm9yKHZhciBvPTA7bzxyLmxlbmd0aDtvKyspcyhyW29dKTtyZXR1cm4gc30pIiwibW9kdWxlLmV4cG9ydHMgPSB7XG5cdGFwaUtleTogXCJBSXphU3lDc1RMN1pPeE5PQVVCeUhRVmdHQVVJVzZPY2pYYmFDRFFcIixcblx0YXV0aERvbWFpbjogXCJib3JrZWRpbi5maXJlYmFzZWFwcC5jb21cIixcblx0ZGF0YWJhc2VVUkw6IFwiaHR0cHM6Ly9ib3JrZWRpbi5maXJlYmFzZWlvLmNvbVwiLFxuXHRwcm9qZWN0SWQ6IFwiYm9ya2VkaW5cIixcblx0c3RvcmFnZUJ1Y2tldDogXCJcIixcblx0bWVzc2FnaW5nU2VuZGVySWQ6IFwiNzY5ODI1OTA2Mzc1XCJcbn0iLCJsZXQgdm0gPSByZXF1aXJlKCcuL3ZpZXdzJyk7XG5sZXQgdmlld3MgPSB2bS5WaWV3cygpO1xubGV0IHBtID0gcmVxdWlyZSgnLi9wYXJrcycpO1xubGV0IHBhcmtzTW9kdWxlID0gcG0uUGFya3NNb2R1bGUoKTtcbmxldCBjb25maWcgPSByZXF1aXJlKCcuL2NvbmZpZycpO1xubGV0IEZpcmViYXNlQXBwID0gZmlyZWJhc2UuaW5pdGlhbGl6ZUFwcChjb25maWcpO1xubGV0IGRiID0gRmlyZWJhc2VBcHAuZGF0YWJhc2UoKTtcblxuY29uc3QgR09PR0xFX01BUFNfQVBJX0tFWSA9ICdBSXphU3lCSVpSWWZ0Ym9HRUxmek9GbVNVcmNNa1l3V3RRTjdzRjgnO1xuY29uc3QgUEFSQU1TID0gZ2V0UXVlcnlQYXJhbXMoZG9jdW1lbnQubG9jYXRpb24uc2VhcmNoKTtcblxuZnVuY3Rpb24gZ2V0UXVlcnlQYXJhbXMocXMpIHtcblx0cXMgPSBxcy5zcGxpdCgnKycpLmpvaW4oJyAnKTtcblx0dmFyIHBhcmFtcyA9IHt9LFxuXHRcdHRva2Vucyxcblx0XHRyZSA9IC9bPyZdPyhbXj1dKyk9KFteJl0qKS9nO1xuXHR3aGlsZSAodG9rZW5zID0gcmUuZXhlYyhxcykpIHtcblx0XHRwYXJhbXNbZGVjb2RlVVJJQ29tcG9uZW50KHRva2Vuc1sxXSldID0gZGVjb2RlVVJJQ29tcG9uZW50KHRva2Vuc1syXSk7XG5cdH1cblx0cmV0dXJuIHBhcmFtcztcbn1cblxubGV0IHZpZGVvSG9sZGVyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3ZpZGVvLWhvbGRlcicpO1xuXG5mdW5jdGlvbiBzaG93UGFnZShpZCkge1xuXHRpZiAoaWQgIT09ICd2cicpIHtcblx0XHR2aWRlb0hvbGRlci5pbm5lckhUTUwgPSAnJztcblx0fVxuXHRBcnJheS5mcm9tKGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoJ3BhZ2UtaGlkZGVuJykpLmZvckVhY2goKHBhZ2UpID0+IHtcblx0XHRwYWdlLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG5cdH0pO1xuXHRkb2N1bWVudC5nZXRFbGVtZW50QnlJZChgcGFnZS0ke2lkfWApLnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snO1xufVxuXG5cbmxldCBwYXJrTmFtZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdwYXJrLW5hbWUnKTtcbmxldCBwYXJrSW1hZ2UgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncGFyay1pbWFnZScpO1xuXG5mdW5jdGlvbiBvbk1hcmtlckNsaWNrKHBhcmspIHtcblx0cGFya05hbWUuaW5uZXJUZXh0ID0gcGFyay5uYW1lO1xuXHQvL3BhcmtJbWFnZS5zcmMgPSBgaHR0cHM6Ly9tYXBzLmdvb2dsZWFwaXMuY29tL21hcHMvYXBpL3N0cmVldHZpZXc/c2l6ZT02MDB4MzAwJmxvY2F0aW9uPSR7cGFyay5sYXRpdHVkZX0sJHtwYXJrLmxvbmdpdHVkZX0maGVhZGluZz0xNTEuNzgmcGl0Y2g9LTAuNzYma2V5PSR7R09PR0xFX01BUFNfQVBJX0tFWX1gO1xuXG59XG5cbmxldCBleHBUaXRsZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdleHBlcmllbmNlLXRpdGxlJyk7XG5sZXQgZXhwUmFuZ2UgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZXhwZXJpZW5jZS1yYW5nZScpO1xubGV0IGV4cERlc2MgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZXhwZXJpZW5jZS1kZXNjcmlwdGlvbicpO1xubGV0IGV4cFN1Ym1pdCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdleHBlcmllbmNlLXN1Ym1pdCcpO1xuXG5mdW5jdGlvbiBhZGRFeHBlcmllbmNlKHByb2ZpbGVpZCkge1xuXHRsZXQgZXhwID0ge1xuXHRcdHRpdGxlOiBleHBUaXRsZS52YWx1ZSxcblx0XHRyYW5nZTogZXhwUmFuZ2UudmFsdWUsXG5cdFx0ZGVzY3JpcHRpb246IGV4cERlc2MudmFsdWVcblx0fVxuXHRyZXR1cm4gZGIucmVmKGBwcm9maWxlLyR7cHJvZmlsZWlkfS9leHBlcmllbmNlYCkucHVzaChleHApO1xufVxuXG5sZXQgZG9nZ29OYW1lID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3Byb2ZpbGUtZG9nZ28tbmFtZScpO1xubGV0IGRvZ2dvSW1hZ2UgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncHJvZmlsZS1kb2dnby1pbWFnZScpO1xubGV0IGV4cEhvbGRlciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdleHBlcmllbmNlLWhvbGRlcicpO1xubGV0IHNraWxsSG9sZGVyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3NraWxsLWhvbGRlcicpO1xuXG5mdW5jdGlvbiByZW5kZXJQcm9maWxlKHByb2ZpbGUpIHtcblx0Y29uc29sZS5sb2cocHJvZmlsZSk7XG5cdGRvZ2dvTmFtZS5pbm5lclRleHQgPSBwcm9maWxlLm5hbWU7XG5cdGRvZ2dvSW1hZ2Uuc3R5bGUuYmFja2dyb3VuZEltYWdlID0gYHVybCgnJHtwcm9maWxlLmltYWdlfScpYDtcblx0ZXhwVGl0bGUudmFsdWUgPSAnJztcblx0ZXhwUmFuZ2UudmFsdWUgPSAnJztcblx0ZXhwRGVzYy52YWx1ZSA9ICcnO1xuXHRleHBIb2xkZXIuaW5uZXJIVE1MID0gJyc7XG5cdGxldCBleHBNYXAgPSBwcm9maWxlLmV4cGVyaWVuY2UgfHwge307XG5cdGZvciAobGV0IGV4cGlkIGluIGV4cE1hcCkge1xuXHRcdGxldCBleHAgPSBwcm9maWxlLmV4cGVyaWVuY2VbZXhwaWRdO1xuXHRcdGxldCB2ID0gdmlld3MuZ2V0RXhwZXJpZW5jZUNhcmQoZXhwKTtcblx0XHRleHBIb2xkZXIuYXBwZW5kQ2hpbGQodik7XG5cdH1cblx0c2tpbGxIb2xkZXIuaW5uZXJIVE1MID0gJyc7XG5cdGxldCBza2lsbE1hcCA9IHByb2ZpbGUuc2tpbGxzIHx8IHt9O1xuXHRPYmplY3Qua2V5cyhza2lsbE1hcCkubWFwKChrZXkpID0+IHNraWxsTWFwW2tleV0pLnNvcnQoKGEsIGIpID0+IHtcblx0XHRyZXR1cm4gYi5lbmRvcnNlbWVudHMgLSBhLmVuZG9yc2VtZW50cztcblx0fSkuZm9yRWFjaCgoc2tpbGwpID0+IHtcblx0XHRsZXQgdiA9IHZpZXdzLmdldFNraWxsUm93KHNraWxsKTtcblx0XHRza2lsbEhvbGRlci5hcHBlbmRDaGlsZCh2KTtcblx0fSk7XG59XG5cbndpbmRvdy5tYWluID0gKCkgPT4ge1xuXG5cdGxldCByb3V0ZXMgPSB7XG5cblx0XHQnL3Byb2ZpbGUvOnByb2ZpbGVpZCc6IChwcm9maWxlaWQpID0+IHtcblxuXHRcdFx0Y29uc29sZS5sb2cocHJvZmlsZWlkKTtcblx0XHRcdHNob3dQYWdlKCdwcm9maWxlJyk7XG5cblx0XHRcdGRiLnJlZihgcHJvZmlsZS8ke3Byb2ZpbGVpZH1gKS5vbigndmFsdWUnLCAoc25hcCkgPT4ge1xuXHRcdFx0XHRsZXQgdmFsID0gc25hcC52YWwoKSB8fCB7fTtcblx0XHRcdFx0cmVuZGVyUHJvZmlsZSh2YWwpO1xuXHRcdFx0fSk7XG5cblx0XHRcdGV4cFN1Ym1pdC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChlKSA9PiB7XG5cdFx0XHRcdGFkZEV4cGVyaWVuY2UocHJvZmlsZWlkKS50aGVuKChkb25lKSA9PiB7XG5cdFx0XHRcdFx0Ly8gXG5cdFx0XHRcdH0pLmNhdGNoKGNvbnNvbGUuZXJyb3IpO1xuXHRcdFx0fSk7XG5cblx0XHR9LFxuXG5cdFx0Jy9wYXJrcy86Y2l0eWlkJzogKGNpdHlpZCkgPT4ge1xuXHRcdFx0Y29uc29sZS5sb2coY2l0eWlkKTtcblx0XHRcdHNob3dQYWdlKCdwYXJrcycpO1xuXHRcdFx0cGFya3NNb2R1bGUuZ2V0UGFya3MoY2l0eWlkKS50aGVuKChkYXRhKSA9PiB7XG5cblx0XHRcdFx0bGV0IG1hcEVsID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ21hcC1ob2xkZXInKTtcblx0XHRcdFx0bGV0IG1hcCA9IHBhcmtzTW9kdWxlLnJlbmRlck1hcChkYXRhLCBtYXBFbCwgb25NYXJrZXJDbGljayk7XG5cblx0XHRcdH0pLmNhdGNoKGNvbnNvbGUuZXJyb3IpO1xuXHRcdH0sXG5cblx0XHQnL3ZyLzpwYXJraWQnOiAocGFya2lkKSA9PiB7XG5cdFx0XHRjb25zb2xlLmxvZyhwYXJraWQpO1xuXHRcdFx0bGV0IGh0bWwgPSBgXG5cdFx0XHRcdDxhLXNjZW5lPlxuXHRcdFx0XHRcdDxhLWFzc2V0cz5cblx0XHRcdFx0XHRcdDx2aWRlbyBpZD1cInZpZGVvXCIgc3JjPVwiLi9wdWJsaWMvdmlkZW8vJHtwYXJraWR9Lm1wNFwiIGF1dG9wbGF5IGxvb3AgY3Jvc3NvcmlnaW49XCJhbm9ueW1vdXNcIj48L3ZpZGVvPlxuXHRcdFx0XHRcdDwvYS1hc3NldHM+XG5cdFx0XHRcdFx0PGEtdmlkZW9zcGhlcmUgc3JjPVwiI3ZpZGVvXCIgcm90YXRpb249XCIwIDE4MCAwXCI+PC9hLXZpZGVvc3BoZXJlPlxuXHRcdFx0XHQ8L2Etc2NlbmU+XG5cdFx0XHRgO1xuXHRcdFx0dmlkZW9Ib2xkZXIuaW5uZXJIVE1MID0gaHRtbDtcblx0XHRcdGNvbnNvbGUubG9nKHZpZGVvSG9sZGVyKVxuXHRcdFx0c2hvd1BhZ2UoJ3ZyJyk7XG5cdFx0fVxuXG5cdH1cblxuXHRsZXQgcm91dGVyID0gUm91dGVyKHJvdXRlcyk7XG5cdHJvdXRlci5pbml0KCk7XG5cbn0iLCJsZXQgY2l0eVBhcmtzR2V0dGVyID0ge1xuXG5cdG5hc2h2aWxsZTogKCkgPT4ge1xuXHRcdHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG5cdFx0XHQkLmdldCgnaHR0cHM6Ly9kYXRhLm5hc2h2aWxsZS5nb3YvcmVzb3VyY2UveGJydS1jZnppLmpzb24nLCB7XG5cdFx0XHRcdCdkb2dfcGFyayc6ICdZZXMnXG5cdFx0XHR9KS50aGVuKChkYXRhKSA9PiB7XG5cdFx0XHRcdGxldCBjbGVhbmVkID0gZGF0YS5maWx0ZXIoKHBhcmspID0+IHtcblx0XHRcdFx0XHRyZXR1cm4gcGFyay5tYXBwZWRfbG9jYXRpb247XG5cdFx0XHRcdH0pLm1hcCgocGFyaykgPT4ge1xuXHRcdFx0XHRcdGxldCBlbnRyeSA9IHtcblx0XHRcdFx0XHRcdG5hbWU6IHBhcmsucGFya19uYW1lLFxuXHRcdFx0XHRcdFx0bGF0aXR1ZGU6IHBhcmsubWFwcGVkX2xvY2F0aW9uLmNvb3JkaW5hdGVzWzFdLFxuXHRcdFx0XHRcdFx0bG9uZ2l0dWRlOiBwYXJrLm1hcHBlZF9sb2NhdGlvbi5jb29yZGluYXRlc1swXSxcblx0XHRcdFx0XHRcdGNpdHlpZDogJ25hc2h2aWxsZScsXG5cdFx0XHRcdFx0XHRkYXRhOiBwYXJrXG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdHJldHVybiBlbnRyeTtcblx0XHRcdFx0fSk7XG5cdFx0XHRcdHJlc29sdmUoY2xlYW5lZCk7XG5cdFx0XHR9KS5jYXRjaChyZWplY3QpO1xuXHRcdH0pO1xuXHR9LFxuXG5cdGNoaWNhZ286ICgpID0+IHtcblx0XHRyZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuXHRcdFx0JC5nZXQoXCJodHRwczovL2RhdGEuY2l0eW9mY2hpY2Fnby5vcmcvcmVzb3VyY2UvNHh3ZS0yajN5Lmpzb25cIiwge1xuXHRcdFx0XHQnJHdoZXJlJzogJ2RvZ19mcmllbmRseSA+PSAwJ1xuXHRcdFx0fSkudGhlbigoZGF0YSkgPT4ge1xuXHRcdFx0XHRsZXQgY2xlYW5lZCA9IGRhdGEuZmlsdGVyKChwYXJrKSA9PiB7XG5cdFx0XHRcdFx0cmV0dXJuIHBhcmsubG9jYXRpb247XG5cdFx0XHRcdH0pLm1hcCgocGFyaykgPT4ge1xuXHRcdFx0XHRcdGxldCBlbnRyeSA9IHtcblx0XHRcdFx0XHRcdG5hbWU6IHBhcmsucGFya19uYW1lLFxuXHRcdFx0XHRcdFx0bGF0aXR1ZGU6IHBhcmsubG9jYXRpb24uY29vcmRpbmF0ZXNbMV0sXG5cdFx0XHRcdFx0XHRsb25naXR1ZGU6IHBhcmsubG9jYXRpb24uY29vcmRpbmF0ZXNbMF0sXG5cdFx0XHRcdFx0XHRjaXR5aWQ6ICdjaGljYWdvJyxcblx0XHRcdFx0XHRcdGRhdGE6IHBhcmtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0cmV0dXJuIGVudHJ5O1xuXHRcdFx0XHR9KTtcblx0XHRcdFx0cmVzb2x2ZShjbGVhbmVkKTtcblx0XHRcdH0pLmNhdGNoKHJlamVjdCk7XG5cdFx0fSk7XG5cdH0sXG5cblx0bG9zYW5nZWxlczogKCkgPT4ge1xuXHRcdHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG5cdFx0XHQkLmdldCgnaHR0cHM6Ly9kYXRhLmxhY2l0eS5vcmcvcmVzb3VyY2UveHl2Zy1kc3QyLmpzb24nLCB7XG5cdFx0XHRcdCdsb2NhdGlvbnR5cGUnOiAnRG9nIFBhcmtzJ1xuXHRcdFx0fSkudGhlbigoZGF0YSkgPT4ge1xuXHRcdFx0XHRsZXQgY2xlYW5lZCA9IGRhdGEuZmlsdGVyKChwYXJrKSA9PiB7XG5cdFx0XHRcdFx0cmV0dXJuIHBhcmsuZ2VvbGF0ICYmIHBhcmsuZ2VvbG9uZztcblx0XHRcdFx0fSkubWFwKChwYXJrKSA9PiB7XG5cdFx0XHRcdFx0bGV0IGVudHJ5ID0ge1xuXHRcdFx0XHRcdFx0bmFtZTogcGFyay5sb2NhdGlvbl9uYW1lLFxuXHRcdFx0XHRcdFx0bGF0aXR1ZGU6IHBhcnNlRmxvYXQocGFyay5nZW9sYXQpLFxuXHRcdFx0XHRcdFx0bG9uZ2l0dWRlOiBwYXJzZUZsb2F0KHBhcmsuZ2VvbG9uZyksXG5cdFx0XHRcdFx0XHRjaXR5aWQ6ICdsb3NhbmdlbGVzJyxcblx0XHRcdFx0XHRcdGRhdGE6IHBhcmtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0cmV0dXJuIGVudHJ5O1xuXHRcdFx0XHR9KTtcblx0XHRcdFx0cmVzb2x2ZShjbGVhbmVkKTtcblx0XHRcdH0pLmNhdGNoKHJlamVjdCk7XG5cdFx0fSk7XG5cdH0sXG5cblx0bmV3eW9yazogKCkgPT4ge1xuXHRcdHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG5cdFx0XHQkLmdldCgnaHR0cHM6Ly9kYXRhLmNpdHlvZm5ld3lvcmsudXMvcmVzb3VyY2UvcDdqYy1jOGFrLmpzb24nLCB7XG5cdFx0XHRcdCd0eXBlY2F0ZWdvJzogJ0NvbW11bml0eSBQYXJrJ1xuXHRcdFx0fSkudGhlbigoZGF0YSkgPT4ge1xuXHRcdFx0XHRsZXQgY2xlYW5lZCA9IGRhdGEuZmlsdGVyKChwYXJrKSA9PiB7XG5cdFx0XHRcdFx0cmV0dXJuIHBhcmsudGhlX2dlb207XG5cdFx0XHRcdH0pLm1hcCgocGFyaykgPT4ge1xuXHRcdFx0XHRcdGxldCBjb29yZHMgPSBwYXJrLnRoZV9nZW9tLmNvb3JkaW5hdGVzWzBdWzBdWzBdO1xuXHRcdFx0XHRcdGxldCBlbnRyeSA9IHtcblx0XHRcdFx0XHRcdG5hbWU6IHBhcmsuc2lnbm5hbWUsXG5cdFx0XHRcdFx0XHRsYXRpdHVkZTogY29vcmRzWzFdLFxuXHRcdFx0XHRcdFx0bG9uZ2l0dWRlOiBjb29yZHNbMF0sXG5cdFx0XHRcdFx0XHRjaXR5aWQ6ICduZXd5b3JrJyxcblx0XHRcdFx0XHRcdGRhdGE6IHBhcmtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0cmV0dXJuIGVudHJ5O1xuXHRcdFx0XHR9KTtcblx0XHRcdFx0cmVzb2x2ZShjbGVhbmVkKTtcblx0XHRcdH0pLmNhdGNoKHJlamVjdCk7XG5cdFx0fSk7XG5cdH0sXG5cblx0c2VhdHRsZTogKCkgPT4ge1xuXHRcdHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG5cdFx0XHQkLmdldCgnaHR0cHM6Ly9kYXRhLnNlYXR0bGUuZ292L3Jlc291cmNlL2ZhN3otd2tlaC5qc29uJywge1xuXG5cdFx0XHR9KS50aGVuKChkYXRhKSA9PiB7XG5cdFx0XHRcdGxldCBjbGVhbmVkID0gZGF0YS5maWx0ZXIoKHBhcmspID0+IHtcblx0XHRcdFx0XHRyZXR1cm4gcGFyay5sb2NhdGlvbl8xO1xuXHRcdFx0XHR9KS5tYXAoKHBhcmspID0+IHtcblx0XHRcdFx0XHRsZXQgZW50cnkgPSB7XG5cdFx0XHRcdFx0XHRuYW1lOiBwYXJrLmNvbW1vbl9uYW1lLFxuXHRcdFx0XHRcdFx0bGF0aXR1ZGU6IHBhcnNlRmxvYXQocGFyay5sb2NhdGlvbl8xLmxhdGl0dWRlKSxcblx0XHRcdFx0XHRcdGxvbmdpdHVkZTogcGFyc2VGbG9hdChwYXJrLmxvY2F0aW9uXzEubG9uZ2l0dWRlKSxcblx0XHRcdFx0XHRcdGNpdHlpZDogJ3NlYXR0bGUnLFxuXHRcdFx0XHRcdFx0ZGF0YTogcGFya1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHRyZXR1cm4gZW50cnk7XG5cdFx0XHRcdH0pO1xuXHRcdFx0XHRyZXNvbHZlKGNsZWFuZWQpO1xuXHRcdFx0fSkuY2F0Y2gocmVqZWN0KTtcblx0XHR9KTtcblx0fSxcblxuXHRjYWxnYXJ5OiAoKSA9PiB7XG5cdFx0cmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcblx0XHRcdCQuZ2V0KCdodHRwczovL2RhdGEuY2FsZ2FyeS5jYS9yZXNvdXJjZS9lbnI0LWNydGkuanNvbicsIHtcblxuXHRcdFx0fSkudGhlbigoZGF0YSkgPT4ge1xuXHRcdFx0XHRsZXQgY2xlYW5lZCA9IGRhdGEuZmlsdGVyKChwYXJrKSA9PiB7XG5cdFx0XHRcdFx0cmV0dXJuIHBhcmsudGhlX2dlb207XG5cdFx0XHRcdH0pLm1hcCgocGFyaykgPT4ge1xuXHRcdFx0XHRcdGxldCBjb29yZHMgPSBwYXJrLnRoZV9nZW9tLmNvb3JkaW5hdGVzWzBdWzBdWzBdO1xuXHRcdFx0XHRcdGxldCBlbnRyeSA9IHtcblx0XHRcdFx0XHRcdG5hbWU6IHBhcmsuZGVzY3JpcHRpb24sXG5cdFx0XHRcdFx0XHRsYXRpdHVkZTogY29vcmRzWzFdLFxuXHRcdFx0XHRcdFx0bG9uZ2l0dWRlOiBjb29yZHNbMF0sXG5cdFx0XHRcdFx0XHRjaXR5aWQ6ICdjYWxnYXJ5Jyxcblx0XHRcdFx0XHRcdGRhdGE6IHBhcmtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0cmV0dXJuIGVudHJ5O1xuXHRcdFx0XHR9KTtcblx0XHRcdFx0cmVzb2x2ZShjbGVhbmVkKTtcblx0XHRcdH0pLmNhdGNoKHJlamVjdCk7XG5cdFx0fSk7XG5cdH1cblxufVxuXG5sZXQgUGFya3NNb2R1bGUgPSAoKSA9PiB7XG5cblx0bGV0IHBtb2QgPSB7XG5cblx0XHRnZXRQYXJrczogKGNpdHlpZCkgPT4ge1xuXHRcdFx0cmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcblx0XHRcdFx0bGV0IGdldHRlciA9IGNpdHlQYXJrc0dldHRlcltjaXR5aWRdO1xuXHRcdFx0XHRpZiAoZ2V0dGVyKSB7XG5cdFx0XHRcdFx0Z2V0dGVyKCkudGhlbihyZXNvbHZlKS5jYXRjaChyZWplY3QpO1xuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdHJlamVjdCgnV2UgZG8gbm90IGN1cnJlbnRseSBoYXZlIGRhdGEgZm9yIHRoaXMgY2l0eS4gTWVzc2FnZSB5b3VyIGNpdHkgY291bmNpbCEnKTtcblx0XHRcdFx0fVxuXHRcdFx0fSk7XG5cdFx0fSxcblxuXHRcdHJlbmRlck1hcDogKGxpc3QsIGVsZW1lbnQsIG9uTWFya2VyQ2xpY2spID0+IHtcblxuXHRcdFx0dmFyIGZpcnN0ID0gbGlzdFswXTtcblxuXHRcdFx0dmFyIG1hcCA9IG5ldyBnb29nbGUubWFwcy5NYXAoZWxlbWVudCwge1xuXHRcdFx0XHRjZW50ZXI6IHtsYXQ6IGZpcnN0LmxhdGl0dWRlLCBsbmc6IGZpcnN0LmxvbmdpdHVkZX0sXG5cdFx0XHRcdHpvb206IDEwLFxuXHRcdFx0XHRzdHlsZXM6IFtcdHtcdFx0XCJmZWF0dXJlVHlwZVwiOlwibGFuZHNjYXBlXCIsXHRcdFwic3R5bGVyc1wiOltcdFx0XHR7XHRcdFx0XHRcImh1ZVwiOlwiI0ZGQTgwMFwiXHRcdFx0fSxcdFx0XHR7XHRcdFx0XHRcInNhdHVyYXRpb25cIjowXHRcdFx0fSxcdFx0XHR7XHRcdFx0XHRcImxpZ2h0bmVzc1wiOjBcdFx0XHR9LFx0XHRcdHtcdFx0XHRcdFwiZ2FtbWFcIjoxXHRcdFx0fVx0XHRdXHR9LFx0e1x0XHRcImZlYXR1cmVUeXBlXCI6XCJyb2FkLmhpZ2h3YXlcIixcdFx0XCJzdHlsZXJzXCI6W1x0XHRcdHtcdFx0XHRcdFwiaHVlXCI6XCIjNTNGRjAwXCJcdFx0XHR9LFx0XHRcdHtcdFx0XHRcdFwic2F0dXJhdGlvblwiOi03M1x0XHRcdH0sXHRcdFx0e1x0XHRcdFx0XCJsaWdodG5lc3NcIjo0MFx0XHRcdH0sXHRcdFx0e1x0XHRcdFx0XCJnYW1tYVwiOjFcdFx0XHR9XHRcdF1cdH0sXHR7XHRcdFwiZmVhdHVyZVR5cGVcIjpcInJvYWQuYXJ0ZXJpYWxcIixcdFx0XCJzdHlsZXJzXCI6W1x0XHRcdHtcdFx0XHRcdFwiaHVlXCI6XCIjRkJGRjAwXCJcdFx0XHR9LFx0XHRcdHtcdFx0XHRcdFwic2F0dXJhdGlvblwiOjBcdFx0XHR9LFx0XHRcdHtcdFx0XHRcdFwibGlnaHRuZXNzXCI6MFx0XHRcdH0sXHRcdFx0e1x0XHRcdFx0XCJnYW1tYVwiOjFcdFx0XHR9XHRcdF1cdH0sXHR7XHRcdFwiZmVhdHVyZVR5cGVcIjpcInJvYWQubG9jYWxcIixcdFx0XCJzdHlsZXJzXCI6W1x0XHRcdHtcdFx0XHRcdFwiaHVlXCI6XCIjMDBGRkZEXCJcdFx0XHR9LFx0XHRcdHtcdFx0XHRcdFwic2F0dXJhdGlvblwiOjBcdFx0XHR9LFx0XHRcdHtcdFx0XHRcdFwibGlnaHRuZXNzXCI6MzBcdFx0XHR9LFx0XHRcdHtcdFx0XHRcdFwiZ2FtbWFcIjoxXHRcdFx0fVx0XHRdXHR9LFx0e1x0XHRcImZlYXR1cmVUeXBlXCI6XCJ3YXRlclwiLFx0XHRcInN0eWxlcnNcIjpbXHRcdFx0e1x0XHRcdFx0XCJodWVcIjpcIiMwMEJGRkZcIlx0XHRcdH0sXHRcdFx0e1x0XHRcdFx0XCJzYXR1cmF0aW9uXCI6Nlx0XHRcdH0sXHRcdFx0e1x0XHRcdFx0XCJsaWdodG5lc3NcIjo4XHRcdFx0fSxcdFx0XHR7XHRcdFx0XHRcImdhbW1hXCI6MVx0XHRcdH1cdFx0XVx0fSxcdHtcdFx0XCJmZWF0dXJlVHlwZVwiOlwicG9pXCIsXHRcdFwic3R5bGVyc1wiOltcdFx0XHR7XHRcdFx0XHRcImh1ZVwiOlwiIzY3OTcxNFwiXHRcdFx0fSxcdFx0XHR7XHRcdFx0XHRcInNhdHVyYXRpb25cIjozMy40XHRcdFx0fSxcdFx0XHR7XHRcdFx0XHRcImxpZ2h0bmVzc1wiOi0yNS40XHRcdFx0fSxcdFx0XHR7XHRcdFx0XHRcImdhbW1hXCI6MVx0XHRcdH1cdFx0XVx0fV1cblx0XHRcdH0pO1xuXG5cdFx0XHRsZXQgbGFzdFdpbmRvdyA9IGZhbHNlO1xuXG5cdFx0XHRmb3IgKHZhciBpID0gMDsgaSA8IGxpc3QubGVuZ3RoOyBpKyspIHtcblxuXHRcdFx0XHRsZXQgcGFyayA9IGxpc3RbaV07XG5cblx0XHRcdFx0bGV0IGh0bWwgPSBgXG5cdFx0XHRcdFx0PGgxPiR7cGFyay5uYW1lfTwvaDE+XG5cdFx0XHRcdGA7XG5cblx0XHRcdFx0bGV0IGluZm93aW5kb3cgPSBuZXcgZ29vZ2xlLm1hcHMuSW5mb1dpbmRvdyh7XG5cdFx0XHRcdFx0Y29udGVudDogaHRtbFxuXHRcdFx0XHR9KTtcblxuXHRcdFx0XHRsZXQgbWFya2VyID0gbmV3IGdvb2dsZS5tYXBzLk1hcmtlcih7XG5cdFx0XHRcdFx0cG9zaXRpb246IHtsYXQ6IHBhcmsubGF0aXR1ZGUsIGxuZzogcGFyay5sb25naXR1ZGV9LFxuXHRcdFx0XHRcdG1hcDogbWFwLFxuXHRcdFx0XHRcdHRpdGxlOiBwYXJrLm5hbWVcblx0XHRcdFx0fSk7XG5cblx0XHRcdFx0bWFya2VyLmFkZExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRcdG9uTWFya2VyQ2xpY2socGFyayk7XG5cdFx0XHRcdFx0aW5mb3dpbmRvdy5vcGVuKG1hcCwgbWFya2VyKTtcblx0XHRcdFx0XHRpZiAobGFzdFdpbmRvdykge1xuXHRcdFx0XHRcdFx0bGFzdFdpbmRvdy5jbG9zZSgpO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHRsYXN0V2luZG93ID0gaW5mb3dpbmRvdztcblx0XHRcdFx0fSk7XG5cdFx0XHR9XG5cblx0XHRcdHJldHVybiBtYXA7XG5cblx0XHR9XG5cblx0fVxuXG5cdHJldHVybiBwbW9kO1xufVxuXG5leHBvcnQge1BhcmtzTW9kdWxlfTsiLCJsZXQgVmlld3MgPSAoKSA9PiB7XG5cblx0bGV0IHZpZXdzID0ge1xuXG5cdFx0Z2V0RXhwZXJpZW5jZUNhcmQ6IChtb2RlbCkgPT4ge1xuXHRcdFx0bGV0IGh0bWwgPSBgXG5cdFx0XHRcdDxkaXYgY2xhc3M9XCJtZWRpYVwiPlxuXHRcdFx0XHRcdDxkaXYgY2xhc3M9XCJtZWRpYS1sZWZ0XCI+XG5cdFx0XHRcdFx0XHQ8ZmlndXJlIGNsYXNzPVwiaW1hZ2UgaXMtNjR4NjRcIj5cblx0XHRcdFx0XHRcdFx0PGltZyBzcmM9XCJodHRwczovL2J1bG1hLmlvL2ltYWdlcy9wbGFjZWhvbGRlcnMvOTZ4OTYucG5nXCIgYWx0PVwiUGxhY2Vob2xkZXIgaW1hZ2VcIj5cblx0XHRcdFx0XHRcdDwvZmlndXJlPlxuXHRcdFx0XHRcdDwvZGl2PlxuXHRcdFx0XHRcdDxkaXYgY2xhc3M9XCJtZWRpYS1jb250ZW50XCI+XG5cdFx0XHRcdFx0XHQ8aDMgY2xhc3M9XCJ0aXRsZSBpcy0zXCI+JHttb2RlbC50aXRsZX08L2gzPlxuXHRcdFx0XHRcdFx0PHAgY2xhc3M9XCJzdWJ0aXRsZSBpcy01XCI+JHttb2RlbC5yYW5nZX08L3A+XG5cdFx0XHRcdFx0XHQ8cD4ke21vZGVsLmRlc2NyaXB0aW9ufTwvcD5cblx0XHRcdFx0XHQ8L2Rpdj5cblx0XHRcdFx0PC9kaXY+XG5cdFx0XHRgO1xuXHRcdFx0bGV0IGRpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuXHRcdFx0XHRkaXYuaW5uZXJIVE1MID0gaHRtbDtcblx0XHRcdFx0ZGl2LmNsYXNzTGlzdC5hZGQoJ3Byb2ZpbGUtZXhwZXJpZW5jZScpO1xuXHRcdFx0cmV0dXJuIGRpdjtcblx0XHR9LFxuXG5cdFx0Z2V0U2tpbGxSb3c6IChtb2RlbCkgPT4ge1xuXHRcdFx0bGV0IGNsYXNzQ29sb3IgPSAobW9kZWwuZnJlcXVlbmN5IDwgMC40NSkgPyAnaXMtc3VjY2VzcycgOiAnaXMtd2FybmluZyc7XG5cdFx0XHRsZXQgaHRtbCA9IGBcblx0XHRcdFx0PHRkPlxuXHRcdFx0XHRcdDxkaXYgY2xhc3M9XCJ0YWdzIGhhcy1hZGRvbnNcIj5cblx0XHRcdFx0XHRcdDxzcGFuIGNsYXNzPVwidGFnIGlzLW1lZGl1bVwiPiR7bW9kZWwuc2tpbGx9PC9pPjwvc3Bhbj5cblx0XHRcdFx0XHRcdDxzcGFuIGNsYXNzPVwidGFnIGlzLW1lZGl1bSAke2NsYXNzQ29sb3J9XCI+JHttb2RlbC5lbmRvcnNlbWVudHN9PC9pPjwvc3Bhbj5cblx0XHRcdFx0XHQ8L2Rpdj5cblx0XHRcdFx0PC90ZD5cblx0XHRcdFx0PHRkPlxuXHRcdFx0XHRcdDxwIGNsYXNzPVwiaGFzLXRleHQtcmlnaHRcIj48c3BhbiBjbGFzcz1cImlzLWJvbGRcIj4ke01hdGgucm91bmQobW9kZWwuZnJlcXVlbmN5ICogMTAwKX0lPC9zcGFuPiBvZiBtZW1iZXJzIGFyZSBza2lsbGVkIGluIHRoaXMuPC9wPlxuXHRcdFx0XHQ8L3RkPlxuXHRcdFx0YDtcblx0XHRcdGxldCB0ciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3RyJyk7XG5cdFx0XHRcdHRyLmlubmVySFRNTCA9IGh0bWw7XG5cdFx0XHRyZXR1cm4gdHI7XG5cdFx0fVxuXG5cdH1cblxuXHRyZXR1cm4gdmlld3M7XG5cbn1cblxuZXhwb3J0IHtWaWV3c307Il19\n"]}