{"version":3,"sources":["main.js"],"names":["e","t","n","r","s","o","u","a","require","i","f","Error","code","l","exports","call","length","1","module","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","2","showPage","id","Array","from","document","getElementsByClassName","forEach","page","style","display","getElementById","onMarkerClick","park","parkName","innerText","name","addExperience","profileid","exp","title","expTitle","value","range","expRange","description","expDesc","db","ref","push","renderProfile","profile","console","log","doggoName","doggoImage","backgroundImage","image","expHolder","innerHTML","expMap","experience","expid","v","views","getExperienceCard","appendChild","skillHolder","skillMap","skills","Object","keys","map","key","sort","b","endorsements","skill","getSkillRow","Views","parksModule","ParksModule","config","firebase","initializeApp","database","qs","split","join","tokens","params","re","exec","decodeURIComponent","getQueryParams","location","search","game","expSubmit","window","main","routes","/profile/:profileid","on","snap","val","addEventListener","then","done","catch","error","/parks/:cityid","cityid","CITIES","indexOf","getParks","data","mapEl","renderMap","/vr/:parkid","parkid","/404","Router","init","./config","./parks","./views","3","defineProperty","cityParksGetter","nashville","Promise","resolve","reject","$","get","dog_park","cleaned","filter","mapped_location","park_name","address","mapped_location_address","latitude","coordinates","longitude","chicago","$where","location_address","losangeles","locationtype","geolat","geolong","location_name","stnumber","stdirection","stname","stsuffix","parseFloat","newyork","typecatego","the_geom","coords","signname","seattle","location_1","common_name","JSON","parse","calgary","off_leash_area_id","getter","list","element","first","google","maps","Map","center","lat","lng","zoom","styles","featureType","stylers","hue","saturation","lightness","gamma","lastWindow","html","infowindow","InfoWindow","content","marker","Marker","position","addListener","open","close","_loop","4","model","div","createElement","classList","add","classColor","frequency","Math","round","tr"],"mappings":"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","file":"../main.js","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){\n\"use strict\";\n\nmodule.exports = {\n\tapiKey: \"AIzaSyCsTL7ZOxNOAUByHQVgGAUIW6OcjXbaCDQ\",\n\tauthDomain: \"borkedin.firebaseapp.com\",\n\tdatabaseURL: \"https://borkedin.firebaseio.com\",\n\tprojectId: \"borkedin\",\n\tstorageBucket: \"\",\n\tmessagingSenderId: \"769825906375\"\n};\n\n},{}],2:[function(require,module,exports){\n'use strict';\n\nvar vm = require('./views');\nvar views = vm.Views();\nvar pm = require('./parks');\nvar parksModule = pm.ParksModule();\nvar config = require('./config');\nvar FirebaseApp = firebase.initializeApp(config);\nvar db = FirebaseApp.database();\n\nvar GOOGLE_MAPS_API_KEY = 'AIzaSyBIZRYftboGELfzOFmSUrcMkYwWtQN7sF8';\nvar PARAMS = getQueryParams(document.location.search);\nvar GAME = PARAMS.game;\n\nfunction getQueryParams(qs) {\n\tqs = qs.split('+').join(' ');\n\tvar params = {},\n\t    tokens,\n\t    re = /[?&]?([^=]+)=([^&]*)/g;\n\twhile (tokens = re.exec(qs)) {\n\t\tparams[decodeURIComponent(tokens[1])] = decodeURIComponent(tokens[2]);\n\t}\n\treturn params;\n}\n\nfunction showPage(id) {\n\tArray.from(document.getElementsByClassName('page-hidden')).forEach(function (page) {\n\t\tpage.style.display = 'none';\n\t});\n\tdocument.getElementById('page-' + id).style.display = 'block';\n}\n\nvar parkName = document.getElementById('park-name');\nvar parkImage = document.getElementById('park-image');\n\nfunction onMarkerClick(park) {\n\tparkName.innerText = park.name;\n\t//parkImage.src = `https://maps.googleapis.com/maps/api/streetview?size=600x300&location=${park.latitude},${park.longitude}&heading=151.78&pitch=-0.76&key=${GOOGLE_MAPS_API_KEY}`;\n}\n\nvar expTitle = document.getElementById('experience-title');\nvar expRange = document.getElementById('experience-range');\nvar expDesc = document.getElementById('experience-description');\nvar expSubmit = document.getElementById('experience-submit');\n\nfunction addExperience(profileid) {\n\tvar exp = {\n\t\ttitle: expTitle.value,\n\t\trange: expRange.value,\n\t\tdescription: expDesc.value\n\t};\n\treturn db.ref('profile/' + profileid + '/experience').push(exp);\n}\n\nvar doggoName = document.getElementById('profile-doggo-name');\nvar doggoImage = document.getElementById('profile-doggo-image');\nvar expHolder = document.getElementById('experience-holder');\nvar skillHolder = document.getElementById('skill-holder');\n\nfunction renderProfile(profile) {\n\tconsole.log(profile);\n\tdoggoName.innerText = profile.name;\n\tdoggoImage.style.backgroundImage = 'url(\\'' + profile.image + '\\')';\n\texpTitle.value = '';\n\texpRange.value = '';\n\texpDesc.value = '';\n\texpHolder.innerHTML = '';\n\tvar expMap = profile.experience || {};\n\tfor (var expid in expMap) {\n\t\tvar exp = profile.experience[expid];\n\t\tvar v = views.getExperienceCard(exp);\n\t\texpHolder.appendChild(v);\n\t}\n\tskillHolder.innerHTML = '';\n\tvar skillMap = profile.skills || {};\n\tObject.keys(skillMap).map(function (key) {\n\t\treturn skillMap[key];\n\t}).sort(function (a, b) {\n\t\treturn b.endorsements - a.endorsements;\n\t}).forEach(function (skill) {\n\t\tvar v = views.getSkillRow(skill);\n\t\tskillHolder.appendChild(v);\n\t});\n}\n\nwindow.main = function () {\n\n\tvar routes = {\n\n\t\t'/profile/:profileid': function profileProfileid(profileid) {\n\n\t\t\tconsole.log(profileid);\n\t\t\tshowPage('profile');\n\n\t\t\tdb.ref('profile/' + profileid).on('value', function (snap) {\n\t\t\t\tvar val = snap.val() || {};\n\t\t\t\trenderProfile(val);\n\t\t\t});\n\n\t\t\texpSubmit.addEventListener('click', function (e) {\n\t\t\t\taddExperience(profileid).then(function (done) {\n\t\t\t\t\t// \n\t\t\t\t}).catch(console.error);\n\t\t\t});\n\t\t},\n\n\t\t'/parks/:cityid': function parksCityid(cityid) {\n\t\t\tconsole.log(cityid);\n\t\t\tif (parksModule.CITIES.indexOf(cityid) > -1) {\n\t\t\t\tshowPage('parks');\n\t\t\t\tparksModule.getParks(cityid).then(function (data) {\n\n\t\t\t\t\tvar mapEl = document.getElementById('map-holder');\n\t\t\t\t\tvar map = parksModule.renderMap(data, mapEl, onMarkerClick);\n\t\t\t\t}).catch(console.error);\n\t\t\t} else {\n\t\t\t\tdocument.location = './#/404';\n\t\t\t}\n\t\t},\n\n\t\t'/vr/:parkid': function vrParkid(parkid) {\n\t\t\tconsole.log(parkid);\n\t\t\tdocument.location = './' + parkid + '.html';\n\t\t},\n\n\t\t'/404': function _() {\n\t\t\tshowPage('404');\n\t\t}\n\n\t};\n\n\tvar router = Router(routes);\n\trouter.init();\n};\n\n},{\"./config\":1,\"./parks\":3,\"./views\":4}],3:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\nvar cityParksGetter = {\n\n\tnashville: function nashville() {\n\t\treturn new Promise(function (resolve, reject) {\n\t\t\t$.get('https://data.nashville.gov/resource/xbru-cfzi.json', {\n\t\t\t\t'dog_park': 'Yes'\n\t\t\t}).then(function (data) {\n\t\t\t\tvar cleaned = data.filter(function (park) {\n\t\t\t\t\treturn park.mapped_location;\n\t\t\t\t}).map(function (park) {\n\t\t\t\t\tvar entry = {\n\t\t\t\t\t\tname: park.park_name,\n\t\t\t\t\t\taddress: park.mapped_location_address,\n\t\t\t\t\t\tlatitude: park.mapped_location.coordinates[1],\n\t\t\t\t\t\tlongitude: park.mapped_location.coordinates[0],\n\t\t\t\t\t\tcityid: 'nashville',\n\t\t\t\t\t\tdata: park\n\t\t\t\t\t};\n\t\t\t\t\treturn entry;\n\t\t\t\t});\n\t\t\t\tresolve(cleaned);\n\t\t\t}).catch(reject);\n\t\t});\n\t},\n\n\tchicago: function chicago() {\n\t\treturn new Promise(function (resolve, reject) {\n\t\t\t$.get(\"https://data.cityofchicago.org/resource/4xwe-2j3y.json\", {\n\t\t\t\t'$where': 'dog_friendly >= 1'\n\t\t\t}).then(function (data) {\n\t\t\t\tvar cleaned = data.filter(function (park) {\n\t\t\t\t\treturn park.location;\n\t\t\t\t}).map(function (park) {\n\t\t\t\t\tvar entry = {\n\t\t\t\t\t\tname: park.park_name,\n\t\t\t\t\t\taddress: park.location_address,\n\t\t\t\t\t\tlatitude: park.location.coordinates[1],\n\t\t\t\t\t\tlongitude: park.location.coordinates[0],\n\t\t\t\t\t\tcityid: 'chicago',\n\t\t\t\t\t\tdata: park\n\t\t\t\t\t};\n\t\t\t\t\treturn entry;\n\t\t\t\t});\n\t\t\t\tresolve(cleaned);\n\t\t\t}).catch(reject);\n\t\t});\n\t},\n\n\tlosangeles: function losangeles() {\n\t\treturn new Promise(function (resolve, reject) {\n\t\t\t$.get('https://data.lacity.org/resource/xyvg-dst2.json', {\n\t\t\t\t'locationtype': 'Dog Parks'\n\t\t\t}).then(function (data) {\n\t\t\t\tvar cleaned = data.filter(function (park) {\n\t\t\t\t\treturn park.geolat && park.geolong;\n\t\t\t\t}).map(function (park) {\n\t\t\t\t\tvar entry = {\n\t\t\t\t\t\tname: park.location_name,\n\t\t\t\t\t\taddress: (park.stnumber || '') + ' ' + (park.stdirection || '') + ' ' + (park.stname || '') + ' ' + (park.stsuffix || ''),\n\t\t\t\t\t\tlatitude: parseFloat(park.geolat),\n\t\t\t\t\t\tlongitude: parseFloat(park.geolong),\n\t\t\t\t\t\tcityid: 'losangeles',\n\t\t\t\t\t\tdata: park\n\t\t\t\t\t};\n\t\t\t\t\treturn entry;\n\t\t\t\t});\n\t\t\t\tresolve(cleaned);\n\t\t\t}).catch(reject);\n\t\t});\n\t},\n\n\tnewyork: function newyork() {\n\t\treturn new Promise(function (resolve, reject) {\n\t\t\t$.get('https://data.cityofnewyork.us/resource/p7jc-c8ak.json', {\n\t\t\t\t'typecatego': 'Community Park'\n\t\t\t}).then(function (data) {\n\t\t\t\tvar cleaned = data.filter(function (park) {\n\t\t\t\t\treturn park.the_geom;\n\t\t\t\t}).map(function (park) {\n\t\t\t\t\tvar coords = park.the_geom.coordinates[0][0][0];\n\t\t\t\t\tvar entry = {\n\t\t\t\t\t\tname: park.signname,\n\t\t\t\t\t\taddress: park.location,\n\t\t\t\t\t\tlatitude: coords[1],\n\t\t\t\t\t\tlongitude: coords[0],\n\t\t\t\t\t\tcityid: 'newyork',\n\t\t\t\t\t\tdata: park\n\t\t\t\t\t};\n\t\t\t\t\treturn entry;\n\t\t\t\t});\n\t\t\t\tresolve(cleaned);\n\t\t\t}).catch(reject);\n\t\t});\n\t},\n\n\tseattle: function seattle() {\n\t\treturn new Promise(function (resolve, reject) {\n\t\t\t$.get('https://data.seattle.gov/resource/fa7z-wkeh.json', {}).then(function (data) {\n\t\t\t\tvar cleaned = data.filter(function (park) {\n\t\t\t\t\treturn park.location_1;\n\t\t\t\t}).map(function (park) {\n\t\t\t\t\tvar entry = {\n\t\t\t\t\t\tname: park.common_name,\n\t\t\t\t\t\taddress: JSON.parse(park.location_1).address,\n\t\t\t\t\t\tlatitude: parseFloat(park.location_1.latitude),\n\t\t\t\t\t\tlongitude: parseFloat(park.location_1.longitude),\n\t\t\t\t\t\tcityid: 'seattle',\n\t\t\t\t\t\tdata: park\n\t\t\t\t\t};\n\t\t\t\t\treturn entry;\n\t\t\t\t});\n\t\t\t\tresolve(cleaned);\n\t\t\t}).catch(reject);\n\t\t});\n\t},\n\n\tcalgary: function calgary() {\n\t\treturn new Promise(function (resolve, reject) {\n\t\t\t$.get('https://data.calgary.ca/resource/enr4-crti.json', {}).then(function (data) {\n\t\t\t\tconsole.log(data);\n\t\t\t\tvar cleaned = data.filter(function (park) {\n\t\t\t\t\treturn park.the_geom;\n\t\t\t\t}).map(function (park) {\n\t\t\t\t\tvar coords = park.the_geom.coordinates[0][0][0];\n\t\t\t\t\tvar entry = {\n\t\t\t\t\t\tname: park.description,\n\t\t\t\t\t\taddress: park.off_leash_area_id,\n\t\t\t\t\t\tlatitude: coords[1],\n\t\t\t\t\t\tlongitude: coords[0],\n\t\t\t\t\t\tcityid: 'calgary',\n\t\t\t\t\t\tdata: park\n\t\t\t\t\t};\n\t\t\t\t\treturn entry;\n\t\t\t\t});\n\t\t\t\tresolve(cleaned);\n\t\t\t}).catch(reject);\n\t\t});\n\t}\n\n};\n\nvar ParksModule = function ParksModule() {\n\n\tvar pmod = {\n\n\t\tCITIES: Object.keys(cityParksGetter),\n\n\t\tgetParks: function getParks(cityid) {\n\t\t\treturn new Promise(function (resolve, reject) {\n\t\t\t\tvar getter = cityParksGetter[cityid];\n\t\t\t\tif (getter) {\n\t\t\t\t\tgetter().then(resolve).catch(reject);\n\t\t\t\t} else {\n\t\t\t\t\treject('We do not currently have data for this city. Message your city council!');\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\n\t\trenderMap: function renderMap(list, element, onMarkerClick) {\n\n\t\t\tvar first = list[0];\n\n\t\t\tvar map = new google.maps.Map(element, {\n\t\t\t\tcenter: { lat: first.latitude, lng: first.longitude },\n\t\t\t\tzoom: 10,\n\t\t\t\tstyles: [{ \"featureType\": \"landscape\", \"stylers\": [{ \"hue\": \"#FFA800\" }, { \"saturation\": 0 }, { \"lightness\": 0 }, { \"gamma\": 1 }] }, { \"featureType\": \"road.highway\", \"stylers\": [{ \"hue\": \"#53FF00\" }, { \"saturation\": -73 }, { \"lightness\": 40 }, { \"gamma\": 1 }] }, { \"featureType\": \"road.arterial\", \"stylers\": [{ \"hue\": \"#FBFF00\" }, { \"saturation\": 0 }, { \"lightness\": 0 }, { \"gamma\": 1 }] }, { \"featureType\": \"road.local\", \"stylers\": [{ \"hue\": \"#00FFFD\" }, { \"saturation\": 0 }, { \"lightness\": 30 }, { \"gamma\": 1 }] }, { \"featureType\": \"water\", \"stylers\": [{ \"hue\": \"#00BFFF\" }, { \"saturation\": 6 }, { \"lightness\": 8 }, { \"gamma\": 1 }] }, { \"featureType\": \"poi\", \"stylers\": [{ \"hue\": \"#679714\" }, { \"saturation\": 33.4 }, { \"lightness\": -25.4 }, { \"gamma\": 1 }] }]\n\t\t\t});\n\n\t\t\tvar lastWindow = false;\n\n\t\t\tvar _loop = function _loop() {\n\n\t\t\t\tvar park = list[i];\n\n\t\t\t\tvar html = '\\n\\t\\t\\t\\t\\t<h1>' + park.name + '</h1>\\n\\t\\t\\t\\t';\n\n\t\t\t\tvar infowindow = new google.maps.InfoWindow({\n\t\t\t\t\tcontent: html\n\t\t\t\t});\n\n\t\t\t\tvar marker = new google.maps.Marker({\n\t\t\t\t\tposition: { lat: park.latitude, lng: park.longitude },\n\t\t\t\t\tmap: map,\n\t\t\t\t\ttitle: park.name\n\t\t\t\t});\n\n\t\t\t\tmarker.addListener('click', function () {\n\t\t\t\t\tonMarkerClick(park);\n\t\t\t\t\tinfowindow.open(map, marker);\n\t\t\t\t\tif (lastWindow) {\n\t\t\t\t\t\tlastWindow.close();\n\t\t\t\t\t}\n\t\t\t\t\tlastWindow = infowindow;\n\t\t\t\t});\n\t\t\t};\n\n\t\t\tfor (var i = 0; i < list.length; i++) {\n\t\t\t\t_loop();\n\t\t\t}\n\n\t\t\treturn map;\n\t\t}\n\n\t};\n\n\treturn pmod;\n};\n\nexports.ParksModule = ParksModule;\n\n},{}],4:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\nvar Views = function Views() {\n\n\tvar views = {\n\n\t\tgetExperienceCard: function getExperienceCard(model) {\n\t\t\tvar html = '\\n\\t\\t\\t\\t<div class=\"media\">\\n\\t\\t\\t\\t\\t<div class=\"media-left\">\\n\\t\\t\\t\\t\\t\\t<figure class=\"image is-64x64\">\\n\\t\\t\\t\\t\\t\\t\\t<img src=\"https://bulma.io/images/placeholders/96x96.png\" alt=\"Placeholder image\">\\n\\t\\t\\t\\t\\t\\t</figure>\\n\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t<div class=\"media-content\">\\n\\t\\t\\t\\t\\t\\t<h3 class=\"title is-3\">' + model.title + '</h3>\\n\\t\\t\\t\\t\\t\\t<p class=\"subtitle is-5\">' + model.range + '</p>\\n\\t\\t\\t\\t\\t\\t<p>' + model.description + '</p>\\n\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t</div>\\n\\t\\t\\t';\n\t\t\tvar div = document.createElement('div');\n\t\t\tdiv.innerHTML = html;\n\t\t\tdiv.classList.add('profile-experience');\n\t\t\treturn div;\n\t\t},\n\n\t\tgetSkillRow: function getSkillRow(model) {\n\t\t\tvar classColor = model.frequency < 0.45 ? 'is-success' : 'is-warning';\n\t\t\tvar html = '\\n\\t\\t\\t\\t<td>\\n\\t\\t\\t\\t\\t<div class=\"tags has-addons\">\\n\\t\\t\\t\\t\\t\\t<span class=\"tag is-medium\">' + model.skill + '</i></span>\\n\\t\\t\\t\\t\\t\\t<span class=\"tag is-medium ' + classColor + '\">' + model.endorsements + '</i></span>\\n\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t</td>\\n\\t\\t\\t\\t<td>\\n\\t\\t\\t\\t\\t<p class=\"has-text-right\"><span class=\"is-bold\">' + Math.round(model.frequency * 100) + '%</span> of members are skilled in this.</p>\\n\\t\\t\\t\\t</td>\\n\\t\\t\\t';\n\t\t\tvar tr = document.createElement('tr');\n\t\t\ttr.innerHTML = html;\n\t\t\treturn tr;\n\t\t}\n\n\t};\n\n\treturn views;\n};\n\nexports.Views = Views;\n\n},{}]},{},[2])\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJzcmMvanMvY29uZmlnLmpzIiwic3JjL2pzL21haW4uanMiLCJzcmMvanMvcGFya3MuanMiLCJzcmMvanMvdmlld3MuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7OztBQ0FBLE9BQU8sT0FBUCxHQUFpQjtBQUNoQixTQUFRLHlDQURRO0FBRWhCLGFBQVksMEJBRkk7QUFHaEIsY0FBYSxpQ0FIRztBQUloQixZQUFXLFVBSks7QUFLaEIsZ0JBQWUsRUFMQztBQU1oQixvQkFBbUI7QUFOSCxDQUFqQjs7Ozs7QUNBQSxJQUFJLEtBQUssUUFBUSxTQUFSLENBQVQ7QUFDQSxJQUFJLFFBQVEsR0FBRyxLQUFILEVBQVo7QUFDQSxJQUFJLEtBQUssUUFBUSxTQUFSLENBQVQ7QUFDQSxJQUFJLGNBQWMsR0FBRyxXQUFILEVBQWxCO0FBQ0EsSUFBSSxTQUFTLFFBQVEsVUFBUixDQUFiO0FBQ0EsSUFBSSxjQUFjLFNBQVMsYUFBVCxDQUF1QixNQUF2QixDQUFsQjtBQUNBLElBQUksS0FBSyxZQUFZLFFBQVosRUFBVDs7QUFFQSxJQUFNLHNCQUFzQix5Q0FBNUI7QUFDQSxJQUFNLFNBQVMsZUFBZSxTQUFTLFFBQVQsQ0FBa0IsTUFBakMsQ0FBZjtBQUNBLElBQU0sT0FBTyxPQUFPLElBQXBCOztBQUVBLFNBQVMsY0FBVCxDQUF3QixFQUF4QixFQUE0QjtBQUMzQixNQUFLLEdBQUcsS0FBSCxDQUFTLEdBQVQsRUFBYyxJQUFkLENBQW1CLEdBQW5CLENBQUw7QUFDQSxLQUFJLFNBQVMsRUFBYjtBQUFBLEtBQ0MsTUFERDtBQUFBLEtBRUMsS0FBSyx1QkFGTjtBQUdBLFFBQU8sU0FBUyxHQUFHLElBQUgsQ0FBUSxFQUFSLENBQWhCLEVBQTZCO0FBQzVCLFNBQU8sbUJBQW1CLE9BQU8sQ0FBUCxDQUFuQixDQUFQLElBQXdDLG1CQUFtQixPQUFPLENBQVAsQ0FBbkIsQ0FBeEM7QUFDQTtBQUNE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QXZCLENBQVQ7QUFDQyxNQUFHLFNBQUgsR0FBZSxJQUFmO0FBQ0QsVUFBTyxFQUFQO0FBQ0E7O0FBdkNVLEVBQVo7O0FBMkNBLFFBQU8sS0FBUDtBQUVBLENBL0NEOztRQWlEUSxLLEdBQUEsSyIsImZpbGUiOiJnZW5lcmF0ZWQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlc0NvbnRlbnQiOlsiKGZ1bmN0aW9uIGUodCxuLHIpe2Z1bmN0aW9uIHMobyx1KXtpZighbltvXSl7aWYoIXRbb10pe3ZhciBhPXR5cGVvZiByZXF1aXJlPT1cImZ1bmN0aW9uXCImJnJlcXVpcmU7aWYoIXUmJmEpcmV0dXJuIGEobywhMCk7aWYoaSlyZXR1cm4gaShvLCEwKTt2YXIgZj1uZXcgRXJyb3IoXCJDYW5ub3QgZmluZCBtb2R1bGUgJ1wiK28rXCInXCIpO3Rocm93IGYuY29kZT1cIk1PRFVMRV9OT1RfRk9VTkRcIixmfXZhciBsPW5bb109e2V4cG9ydHM6e319O3Rbb11bMF0uY2FsbChsLmV4cG9ydHMsZnVuY3Rpb24oZSl7dmFyIG49dFtvXVsxXVtlXTtyZXR1cm4gcyhuP246ZSl9LGwsbC5leHBvcnRzLGUsdCxuLHIpfXJldHVybiBuW29dLmV4cG9ydHN9dmFyIGk9dHlwZW9mIHJlcXVpcmU9PVwiZnVuY3Rpb25cIiYmcmVxdWlyZTtmb3IodmFyIG89MDtvPHIubGVuZ3RoO28rKylzKHJbb10pO3JldHVybiBzfSkiLCJtb2R1bGUuZXhwb3J0cyA9IHtcblx0YXBpS2V5OiBcIkFJemFTeUNzVEw3Wk94Tk9BVUJ5SFFWZ0dBVUlXNk9jalhiYUNEUVwiLFxuXHRhdXRoRG9tYWluOiBcImJvcmtlZGluLmZpcmViYXNlYXBwLmNvbVwiLFxuXHRkYXRhYmFzZVVSTDogXCJodHRwczovL2JvcmtlZGluLmZpcmViYXNlaW8uY29tXCIsXG5cdHByb2plY3RJZDogXCJib3JrZWRpblwiLFxuXHRzdG9yYWdlQnVja2V0OiBcIlwiLFxuXHRtZXNzYWdpbmdTZW5kZXJJZDogXCI3Njk4MjU5MDYzNzVcIlxufSIsImxldCB2bSA9IHJlcXVpcmUoJy4vdmlld3MnKTtcbmxldCB2aWV3cyA9IHZtLlZpZXdzKCk7XG5sZXQgcG0gPSByZXF1aXJlKCcuL3BhcmtzJyk7XG5sZXQgcGFya3NNb2R1bGUgPSBwbS5QYXJrc01vZHVsZSgpO1xubGV0IGNvbmZpZyA9IHJlcXVpcmUoJy4vY29uZmlnJyk7XG5sZXQgRmlyZWJhc2VBcHAgPSBmaXJlYmFzZS5pbml0aWFsaXplQXBwKGNvbmZpZyk7XG5sZXQgZGIgPSBGaXJlYmFzZUFwcC5kYXRhYmFzZSgpO1xuXG5jb25zdCBHT09HTEVfTUFQU19BUElfS0VZID0gJ0FJemFTeUJJWlJZZnRib0dFTGZ6T0ZtU1VyY01rWXdXdFFON3NGOCc7XG5jb25zdCBQQVJBTVMgPSBnZXRRdWVyeVBhcmFtcyhkb2N1bWVudC5sb2NhdGlvbi5zZWFyY2gpO1xuY29uc3QgR0FNRSA9IFBBUkFNUy5nYW1lO1xuXG5mdW5jdGlvbiBnZXRRdWVyeVBhcmFtcyhxcykge1xuXHRxcyA9IHFzLnNwbGl0KCcrJykuam9pbignICcpO1xuXHR2YXIgcGFyYW1zID0ge30sXG5cdFx0dG9rZW5zLFxuXHRcdHJlID0gL1s/Jl0/KFtePV0rKT0oW14mXSopL2c7XG5cdHdoaWxlICh0b2tlbnMgPSByZS5leGVjKHFzKSkge1xuXHRcdHBhcmFtc1tkZWNvZGVVUklDb21wb25lbnQodG9rZW5zWzFdKV0gPSBkZWNvZGVVUklDb21wb25lbnQodG9rZW5zWzJdKTtcblx0fVxuXHRyZXR1cm4gcGFyYW1zO1xufVxuXG5mdW5jdGlvbiBzaG93UGFnZShpZCkge1xuXHRBcnJheS5mcm9tKGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoJ3BhZ2UtaGlkZGVuJykpLmZvckVhY2goKHBhZ2UpID0+IHtcblx0XHRwYWdlLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG5cdH0pO1xuXHRkb2N1bWVudC5nZXRFbGVtZW50QnlJZChgcGFnZS0ke2lkfWApLnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snO1xufVxuXG5cbmxldCBwYXJrTmFtZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdwYXJrLW5hbWUnKTtcbmxldCBwYXJrSW1hZ2UgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncGFyay1pbWFnZScpO1xuXG5mdW5jdGlvbiBvbk1hcmtlckNsaWNrKHBhcmspIHtcblx0cGFya05hbWUuaW5uZXJUZXh0ID0gcGFyay5uYW1lO1xuXHQvL3BhcmtJbWFnZS5zcmMgPSBgaHR0cHM6Ly9tYXBzLmdvb2dsZWFwaXMuY29tL21hcHMvYXBpL3N0cmVldHZpZXc/c2l6ZT02MDB4MzAwJmxvY2F0aW9uPSR7cGFyay5sYXRpdHVkZX0sJHtwYXJrLmxvbmdpdHVkZX0maGVhZGluZz0xNTEuNzgmcGl0Y2g9LTAuNzYma2V5PSR7R09PR0xFX01BUFNfQVBJX0tFWX1gO1xuXG59XG5cbmxldCBleHBUaXRsZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdleHBlcmllbmNlLXRpdGxlJyk7XG5sZXQgZXhwUmFuZ2UgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZXhwZXJpZW5jZS1yYW5nZScpO1xubGV0IGV4cERlc2MgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZXhwZXJpZW5jZS1kZXNjcmlwdGlvbicpO1xubGV0IGV4cFN1Ym1pdCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdleHBlcmllbmNlLXN1Ym1pdCcpO1xuXG5mdW5jdGlvbiBhZGRFeHBlcmllbmNlKHByb2ZpbGVpZCkge1xuXHRsZXQgZXhwID0ge1xuXHRcdHRpdGxlOiBleHBUaXRsZS52YWx1ZSxcblx0XHRyYW5nZTogZXhwUmFuZ2UudmFsdWUsXG5cdFx0ZGVzY3JpcHRpb246IGV4cERlc2MudmFsdWVcblx0fVxuXHRyZXR1cm4gZGIucmVmKGBwcm9maWxlLyR7cHJvZmlsZWlkfS9leHBlcmllbmNlYCkucHVzaChleHApO1xufVxuXG5sZXQgZG9nZ29OYW1lID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3Byb2ZpbGUtZG9nZ28tbmFtZScpO1xubGV0IGRvZ2dvSW1hZ2UgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncHJvZmlsZS1kb2dnby1pbWFnZScpO1xubGV0IGV4cEhvbGRlciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdleHBlcmllbmNlLWhvbGRlcicpO1xubGV0IHNraWxsSG9sZGVyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3NraWxsLWhvbGRlcicpO1xuXG5mdW5jdGlvbiByZW5kZXJQcm9maWxlKHByb2ZpbGUpIHtcblx0Y29uc29sZS5sb2cocHJvZmlsZSk7XG5cdGRvZ2dvTmFtZS5pbm5lclRleHQgPSBwcm9maWxlLm5hbWU7XG5cdGRvZ2dvSW1hZ2Uuc3R5bGUuYmFja2dyb3VuZEltYWdlID0gYHVybCgnJHtwcm9maWxlLmltYWdlfScpYDtcblx0ZXhwVGl0bGUudmFsdWUgPSAnJztcblx0ZXhwUmFuZ2UudmFsdWUgPSAnJztcblx0ZXhwRGVzYy52YWx1ZSA9ICcnO1xuXHRleHBIb2xkZXIuaW5uZXJIVE1MID0gJyc7XG5cdGxldCBleHBNYXAgPSBwcm9maWxlLmV4cGVyaWVuY2UgfHwge307XG5cdGZvciAobGV0IGV4cGlkIGluIGV4cE1hcCkge1xuXHRcdGxldCBleHAgPSBwcm9maWxlLmV4cGVyaWVuY2VbZXhwaWRdO1xuXHRcdGxldCB2ID0gdmlld3MuZ2V0RXhwZXJpZW5jZUNhcmQoZXhwKTtcblx0XHRleHBIb2xkZXIuYXBwZW5kQ2hpbGQodik7XG5cdH1cblx0c2tpbGxIb2xkZXIuaW5uZXJIVE1MID0gJyc7XG5cdGxldCBza2lsbE1hcCA9IHByb2ZpbGUuc2tpbGxzIHx8IHt9O1xuXHRPYmplY3Qua2V5cyhza2lsbE1hcCkubWFwKChrZXkpID0+IHNraWxsTWFwW2tleV0pLnNvcnQoKGEsIGIpID0+IHtcblx0XHRyZXR1cm4gYi5lbmRvcnNlbWVudHMgLSBhLmVuZG9yc2VtZW50cztcblx0fSkuZm9yRWFjaCgoc2tpbGwpID0+IHtcblx0XHRsZXQgdiA9IHZpZXdzLmdldFNraWxsUm93KHNraWxsKTtcblx0XHRza2lsbEhvbGRlci5hcHBlbmRDaGlsZCh2KTtcblx0fSk7XG59XG5cbndpbmRvdy5tYWluID0gKCkgPT4ge1xuXG5cdGxldCByb3V0ZXMgPSB7XG5cblx0XHQnL3Byb2ZpbGUvOnByb2ZpbGVpZCc6IChwcm9maWxlaWQpID0+IHtcblxuXHRcdFx0Y29uc29sZS5sb2cocHJvZmlsZWlkKTtcblx0XHRcdHNob3dQYWdlKCdwcm9maWxlJyk7XG5cblx0XHRcdGRiLnJlZihgcHJvZmlsZS8ke3Byb2ZpbGVpZH1gKS5vbigndmFsdWUnLCAoc25hcCkgPT4ge1xuXHRcdFx0XHRsZXQgdmFsID0gc25hcC52YWwoKSB8fCB7fTtcblx0XHRcdFx0cmVuZGVyUHJvZmlsZSh2YWwpO1xuXHRcdFx0fSk7XG5cblx0XHRcdGV4cFN1Ym1pdC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChlKSA9PiB7XG5cdFx0XHRcdGFkZEV4cGVyaWVuY2UocHJvZmlsZWlkKS50aGVuKChkb25lKSA9PiB7XG5cdFx0XHRcdFx0Ly8gXG5cdFx0XHRcdH0pLmNhdGNoKGNvbnNvbGUuZXJyb3IpO1xuXHRcdFx0fSk7XG5cblx0XHR9LFxuXG5cdFx0Jy9wYXJrcy86Y2l0eWlkJzogKGNpdHlpZCkgPT4ge1xuXHRcdFx0Y29uc29sZS5sb2coY2l0eWlkKTtcblx0XHRcdGlmIChwYXJrc01vZHVsZS5DSVRJRVMuaW5kZXhPZihjaXR5aWQpID4gLTEpIHtcblx0XHRcdFx0c2hvd1BhZ2UoJ3BhcmtzJyk7XG5cdFx0XHRcdHBhcmtzTW9kdWxlLmdldFBhcmtzKGNpdHlpZCkudGhlbigoZGF0YSkgPT4ge1xuXG5cdFx0XHRcdFx0bGV0IG1hcEVsID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ21hcC1ob2xkZXInKTtcblx0XHRcdFx0XHRsZXQgbWFwID0gcGFya3NNb2R1bGUucmVuZGVyTWFwKGRhdGEsIG1hcEVsLCBvbk1hcmtlckNsaWNrKTtcblxuXHRcdFx0XHR9KS5jYXRjaChjb25zb2xlLmVycm9yKTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdGRvY3VtZW50LmxvY2F0aW9uID0gJy4vIy80MDQnO1xuXHRcdFx0fVxuXHRcdH0sXG5cblx0XHQnL3ZyLzpwYXJraWQnOiAocGFya2lkKSA9PiB7XG5cdFx0XHRjb25zb2xlLmxvZyhwYXJraWQpO1xuXHRcdFx0ZG9jdW1lbnQubG9jYXRpb24gPSBgLi8ke3BhcmtpZH0uaHRtbGA7XG5cdFx0fSxcblxuXHRcdCcvNDA0JzogKCkgPT4ge1xuXHRcdFx0c2hvd1BhZ2UoJzQwNCcpO1xuXHRcdH1cblxuXHR9XG5cblx0bGV0IHJvdXRlciA9IFJvdXRlcihyb3V0ZXMpO1xuXHRyb3V0ZXIuaW5pdCgpO1xuXG59IiwibGV0IGNpdHlQYXJrc0dldHRlciA9IHtcblxuXHRuYXNodmlsbGU6ICgpID0+IHtcblx0XHRyZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuXHRcdFx0JC5nZXQoJ2h0dHBzOi8vZGF0YS5uYXNodmlsbGUuZ292L3Jlc291cmNlL3hicnUtY2Z6aS5qc29uJywge1xuXHRcdFx0XHQnZG9nX3BhcmsnOiAnWWVzJ1xuXHRcdFx0fSkudGhlbigoZGF0YSkgPT4ge1xuXHRcdFx0XHRsZXQgY2xlYW5lZCA9IGRhdGEuZmlsdGVyKChwYXJrKSA9PiB7XG5cdFx0XHRcdFx0cmV0dXJuIHBhcmsubWFwcGVkX2xvY2F0aW9uO1xuXHRcdFx0XHR9KS5tYXAoKHBhcmspID0+IHtcblx0XHRcdFx0XHRsZXQgZW50cnkgPSB7XG5cdFx0XHRcdFx0XHRuYW1lOiBwYXJrLnBhcmtfbmFtZSxcblx0XHRcdFx0XHRcdGFkZHJlc3M6IHBhcmsubWFwcGVkX2xvY2F0aW9uX2FkZHJlc3MsXG5cdFx0XHRcdFx0XHRsYXRpdHVkZTogcGFyay5tYXBwZWRfbG9jYXRpb24uY29vcmRpbmF0ZXNbMV0sXG5cdFx0XHRcdFx0XHRsb25naXR1ZGU6IHBhcmsubWFwcGVkX2xvY2F0aW9uLmNvb3JkaW5hdGVzWzBdLFxuXHRcdFx0XHRcdFx0Y2l0eWlkOiAnbmFzaHZpbGxlJyxcblx0XHRcdFx0XHRcdGRhdGE6IHBhcmtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0cmV0dXJuIGVudHJ5O1xuXHRcdFx0XHR9KTtcblx0XHRcdFx0cmVzb2x2ZShjbGVhbmVkKTtcblx0XHRcdH0pLmNhdGNoKHJlamVjdCk7XG5cdFx0fSk7XG5cdH0sXG5cblx0Y2hpY2FnbzogKCkgPT4ge1xuXHRcdHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG5cdFx0XHQkLmdldChcImh0dHBzOi8vZGF0YS5jaXR5b2ZjaGljYWdvLm9yZy9yZXNvdXJjZS80eHdlLTJqM3kuanNvblwiLCB7XG5cdFx0XHRcdCckd2hlcmUnOiAnZG9nX2ZyaWVuZGx5ID49IDEnXG5cdFx0XHR9KS50aGVuKChkYXRhKSA9PiB7XG5cdFx0XHRcdGxldCBjbGVhbmVkID0gZGF0YS5maWx0ZXIoKHBhcmspID0+IHtcblx0XHRcdFx0XHRyZXR1cm4gcGFyay5sb2NhdGlvbjtcblx0XHRcdFx0fSkubWFwKChwYXJrKSA9PiB7XG5cdFx0XHRcdFx0bGV0IGVudHJ5ID0ge1xuXHRcdFx0XHRcdFx0bmFtZTogcGFyay5wYXJrX25hbWUsXG5cdFx0XHRcdFx0XHRhZGRyZXNzOiBwYXJrLmxvY2F0aW9uX2FkZHJlc3MsXG5cdFx0XHRcdFx0XHRsYXRpdHVkZTogcGFyay5sb2NhdGlvbi5jb29yZGluYXRlc1sxXSxcblx0XHRcdFx0XHRcdGxvbmdpdHVkZTogcGFyay5sb2NhdGlvbi5jb29yZGluYXRlc1swXSxcblx0XHRcdFx0XHRcdGNpdHlpZDogJ2NoaWNhZ28nLFxuXHRcdFx0XHRcdFx0ZGF0YTogcGFya1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHRyZXR1cm4gZW50cnk7XG5cdFx0XHRcdH0pO1xuXHRcdFx0XHRyZXNvbHZlKGNsZWFuZWQpO1xuXHRcdFx0fSkuY2F0Y2gocmVqZWN0KTtcblx0XHR9KTtcblx0fSxcblxuXHRsb3NhbmdlbGVzOiAoKSA9PiB7XG5cdFx0cmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcblx0XHRcdCQuZ2V0KCdodHRwczovL2RhdGEubGFjaXR5Lm9yZy9yZXNvdXJjZS94eXZnLWRzdDIuanNvbicsIHtcblx0XHRcdFx0J2xvY2F0aW9udHlwZSc6ICdEb2cgUGFya3MnXG5cdFx0XHR9KS50aGVuKChkYXRhKSA9PiB7XG5cdFx0XHRcdGxldCBjbGVhbmVkID0gZGF0YS5maWx0ZXIoKHBhcmspID0+IHtcblx0XHRcdFx0XHRyZXR1cm4gcGFyay5nZW9sYXQgJiYgcGFyay5nZW9sb25nO1xuXHRcdFx0XHR9KS5tYXAoKHBhcmspID0+IHtcblx0XHRcdFx0XHRsZXQgZW50cnkgPSB7XG5cdFx0XHRcdFx0XHRuYW1lOiBwYXJrLmxvY2F0aW9uX25hbWUsXG5cdFx0XHRcdFx0XHRhZGRyZXNzOiBgJHtwYXJrLnN0bnVtYmVyIHx8ICcnfSAke3Bhcmsuc3RkaXJlY3Rpb24gfHwgJyd9ICR7cGFyay5zdG5hbWUgfHwgJyd9ICR7cGFyay5zdHN1ZmZpeCB8fCAnJ31gLFxuXHRcdFx0XHRcdFx0bGF0aXR1ZGU6IHBhcnNlRmxvYXQocGFyay5nZW9sYXQpLFxuXHRcdFx0XHRcdFx0bG9uZ2l0dWRlOiBwYXJzZUZsb2F0KHBhcmsuZ2VvbG9uZyksXG5cdFx0XHRcdFx0XHRjaXR5aWQ6ICdsb3NhbmdlbGVzJyxcblx0XHRcdFx0XHRcdGRhdGE6IHBhcmtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0cmV0dXJuIGVudHJ5O1xuXHRcdFx0XHR9KTtcblx0XHRcdFx0cmVzb2x2ZShjbGVhbmVkKTtcblx0XHRcdH0pLmNhdGNoKHJlamVjdCk7XG5cdFx0fSk7XG5cdH0sXG5cblx0bmV3eW9yazogKCkgPT4ge1xuXHRcdHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG5cdFx0XHQkLmdldCgnaHR0cHM6Ly9kYXRhLmNpdHlvZm5ld3lvcmsudXMvcmVzb3VyY2UvcDdqYy1jOGFrLmpzb24nLCB7XG5cdFx0XHRcdCd0eXBlY2F0ZWdvJzogJ0NvbW11bml0eSBQYXJrJ1xuXHRcdFx0fSkudGhlbigoZGF0YSkgPT4ge1xuXHRcdFx0XHRsZXQgY2xlYW5lZCA9IGRhdGEuZmlsdGVyKChwYXJrKSA9PiB7XG5cdFx0XHRcdFx0cmV0dXJuIHBhcmsudGhlX2dlb207XG5cdFx0XHRcdH0pLm1hcCgocGFyaykgPT4ge1xuXHRcdFx0XHRcdGxldCBjb29yZHMgPSBwYXJrLnRoZV9nZW9tLmNvb3JkaW5hdGVzWzBdWzBdWzBdO1xuXHRcdFx0XHRcdGxldCBlbnRyeSA9IHtcblx0XHRcdFx0XHRcdG5hbWU6IHBhcmsuc2lnbm5hbWUsXG5cdFx0XHRcdFx0XHRhZGRyZXNzOiBwYXJrLmxvY2F0aW9uLFxuXHRcdFx0XHRcdFx0bGF0aXR1ZGU6IGNvb3Jkc1sxXSxcblx0XHRcdFx0XHRcdGxvbmdpdHVkZTogY29vcmRzWzBdLFxuXHRcdFx0XHRcdFx0Y2l0eWlkOiAnbmV3eW9yaycsXG5cdFx0XHRcdFx0XHRkYXRhOiBwYXJrXG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdHJldHVybiBlbnRyeTtcblx0XHRcdFx0fSk7XG5cdFx0XHRcdHJlc29sdmUoY2xlYW5lZCk7XG5cdFx0XHR9KS5jYXRjaChyZWplY3QpO1xuXHRcdH0pO1xuXHR9LFxuXG5cdHNlYXR0bGU6ICgpID0+IHtcblx0XHRyZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuXHRcdFx0JC5nZXQoJ2h0dHBzOi8vZGF0YS5zZWF0dGxlLmdvdi9yZXNvdXJjZS9mYTd6LXdrZWguanNvbicsIHtcblxuXHRcdFx0fSkudGhlbigoZGF0YSkgPT4ge1xuXHRcdFx0XHRsZXQgY2xlYW5lZCA9IGRhdGEuZmlsdGVyKChwYXJrKSA9PiB7XG5cdFx0XHRcdFx0cmV0dXJuIHBhcmsubG9jYXRpb25fMTtcblx0XHRcdFx0fSkubWFwKChwYXJrKSA9PiB7XG5cdFx0XHRcdFx0bGV0IGVudHJ5ID0ge1xuXHRcdFx0XHRcdFx0bmFtZTogcGFyay5jb21tb25fbmFtZSxcblx0XHRcdFx0XHRcdGFkZHJlc3M6IEpTT04ucGFyc2UocGFyay5sb2NhdGlvbl8xKS5hZGRyZXNzLFxuXHRcdFx0XHRcdFx0bGF0aXR1ZGU6IHBhcnNlRmxvYXQocGFyay5sb2NhdGlvbl8xLmxhdGl0dWRlKSxcblx0XHRcdFx0XHRcdGxvbmdpdHVkZTogcGFyc2VGbG9hdChwYXJrLmxvY2F0aW9uXzEubG9uZ2l0dWRlKSxcblx0XHRcdFx0XHRcdGNpdHlpZDogJ3NlYXR0bGUnLFxuXHRcdFx0XHRcdFx0ZGF0YTogcGFya1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHRyZXR1cm4gZW50cnk7XG5cdFx0XHRcdH0pO1xuXHRcdFx0XHRyZXNvbHZlKGNsZWFuZWQpO1xuXHRcdFx0fSkuY2F0Y2gocmVqZWN0KTtcblx0XHR9KTtcblx0fSxcblxuXHRjYWxnYXJ5OiAoKSA9PiB7XG5cdFx0cmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcblx0XHRcdCQuZ2V0KCdodHRwczovL2RhdGEuY2FsZ2FyeS5jYS9yZXNvdXJjZS9lbnI0LWNydGkuanNvbicsIHtcblxuXHRcdFx0fSkudGhlbigoZGF0YSkgPT4ge1xuXHRcdFx0XHRjb25zb2xlLmxvZyhkYXRhKTtcblx0XHRcdFx0bGV0IGNsZWFuZWQgPSBkYXRhLmZpbHRlcigocGFyaykgPT4ge1xuXHRcdFx0XHRcdHJldHVybiBwYXJrLnRoZV9nZW9tO1xuXHRcdFx0XHR9KS5tYXAoKHBhcmspID0+IHtcblx0XHRcdFx0XHRsZXQgY29vcmRzID0gcGFyay50aGVfZ2VvbS5jb29yZGluYXRlc1swXVswXVswXTtcblx0XHRcdFx0XHRsZXQgZW50cnkgPSB7XG5cdFx0XHRcdFx0XHRuYW1lOiBwYXJrLmRlc2NyaXB0aW9uLFxuXHRcdFx0XHRcdFx0YWRkcmVzczogcGFyay5vZmZfbGVhc2hfYXJlYV9pZCxcblx0XHRcdFx0XHRcdGxhdGl0dWRlOiBjb29yZHNbMV0sXG5cdFx0XHRcdFx0XHRsb25naXR1ZGU6IGNvb3Jkc1swXSxcblx0XHRcdFx0XHRcdGNpdHlpZDogJ2NhbGdhcnknLFxuXHRcdFx0XHRcdFx0ZGF0YTogcGFya1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHRyZXR1cm4gZW50cnk7XG5cdFx0XHRcdH0pO1xuXHRcdFx0XHRyZXNvbHZlKGNsZWFuZWQpO1xuXHRcdFx0fSkuY2F0Y2gocmVqZWN0KTtcblx0XHR9KTtcblx0fVxuXG59XG5cbmxldCBQYXJrc01vZHVsZSA9ICgpID0+IHtcblxuXHRsZXQgcG1vZCA9IHtcblxuXHRcdENJVElFUzogT2JqZWN0LmtleXMoY2l0eVBhcmtzR2V0dGVyKSxcblxuXHRcdGdldFBhcmtzOiAoY2l0eWlkKSA9PiB7XG5cdFx0XHRyZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuXHRcdFx0XHRsZXQgZ2V0dGVyID0gY2l0eVBhcmtzR2V0dGVyW2NpdHlpZF07XG5cdFx0XHRcdGlmIChnZXR0ZXIpIHtcblx0XHRcdFx0XHRnZXR0ZXIoKS50aGVuKHJlc29sdmUpLmNhdGNoKHJlamVjdCk7XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0cmVqZWN0KCdXZSBkbyBub3QgY3VycmVudGx5IGhhdmUgZGF0YSBmb3IgdGhpcyBjaXR5LiBNZXNzYWdlIHlvdXIgY2l0eSBjb3VuY2lsIScpO1xuXHRcdFx0XHR9XG5cdFx0XHR9KTtcblx0XHR9LFxuXG5cdFx0cmVuZGVyTWFwOiAobGlzdCwgZWxlbWVudCwgb25NYXJrZXJDbGljaykgPT4ge1xuXG5cdFx0XHR2YXIgZmlyc3QgPSBsaXN0WzBdO1xuXG5cdFx0XHR2YXIgbWFwID0gbmV3IGdvb2dsZS5tYXBzLk1hcChlbGVtZW50LCB7XG5cdFx0XHRcdGNlbnRlcjoge2xhdDogZmlyc3QubGF0aXR1ZGUsIGxuZzogZmlyc3QubG9uZ2l0dWRlfSxcblx0XHRcdFx0em9vbTogMTAsXG5cdFx0XHRcdHN0eWxlczogW1x0e1x0XHRcImZlYXR1cmVUeXBlXCI6XCJsYW5kc2NhcGVcIixcdFx0XCJzdHlsZXJzXCI6W1x0XHRcdHtcdFx0XHRcdFwiaHVlXCI6XCIjRkZBODAwXCJcdFx0XHR9LFx0XHRcdHtcdFx0XHRcdFwic2F0dXJhdGlvblwiOjBcdFx0XHR9LFx0XHRcdHtcdFx0XHRcdFwibGlnaHRuZXNzXCI6MFx0XHRcdH0sXHRcdFx0e1x0XHRcdFx0XCJnYW1tYVwiOjFcdFx0XHR9XHRcdF1cdH0sXHR7XHRcdFwiZmVhdHVyZVR5cGVcIjpcInJvYWQuaGlnaHdheVwiLFx0XHRcInN0eWxlcnNcIjpbXHRcdFx0e1x0XHRcdFx0XCJodWVcIjpcIiM1M0ZGMDBcIlx0XHRcdH0sXHRcdFx0e1x0XHRcdFx0XCJzYXR1cmF0aW9uXCI6LTczXHRcdFx0fSxcdFx0XHR7XHRcdFx0XHRcImxpZ2h0bmVzc1wiOjQwXHRcdFx0fSxcdFx0XHR7XHRcdFx0XHRcImdhbW1hXCI6MVx0XHRcdH1cdFx0XVx0fSxcdHtcdFx0XCJmZWF0dXJlVHlwZVwiOlwicm9hZC5hcnRlcmlhbFwiLFx0XHRcInN0eWxlcnNcIjpbXHRcdFx0e1x0XHRcdFx0XCJodWVcIjpcIiNGQkZGMDBcIlx0XHRcdH0sXHRcdFx0e1x0XHRcdFx0XCJzYXR1cmF0aW9uXCI6MFx0XHRcdH0sXHRcdFx0e1x0XHRcdFx0XCJsaWdodG5lc3NcIjowXHRcdFx0fSxcdFx0XHR7XHRcdFx0XHRcImdhbW1hXCI6MVx0XHRcdH1cdFx0XVx0fSxcdHtcdFx0XCJmZWF0dXJlVHlwZVwiOlwicm9hZC5sb2NhbFwiLFx0XHRcInN0eWxlcnNcIjpbXHRcdFx0e1x0XHRcdFx0XCJodWVcIjpcIiMwMEZGRkRcIlx0XHRcdH0sXHRcdFx0e1x0XHRcdFx0XCJzYXR1cmF0aW9uXCI6MFx0XHRcdH0sXHRcdFx0e1x0XHRcdFx0XCJsaWdodG5lc3NcIjozMFx0XHRcdH0sXHRcdFx0e1x0XHRcdFx0XCJnYW1tYVwiOjFcdFx0XHR9XHRcdF1cdH0sXHR7XHRcdFwiZmVhdHVyZVR5cGVcIjpcIndhdGVyXCIsXHRcdFwic3R5bGVyc1wiOltcdFx0XHR7XHRcdFx0XHRcImh1ZVwiOlwiIzAwQkZGRlwiXHRcdFx0fSxcdFx0XHR7XHRcdFx0XHRcInNhdHVyYXRpb25cIjo2XHRcdFx0fSxcdFx0XHR7XHRcdFx0XHRcImxpZ2h0bmVzc1wiOjhcdFx0XHR9LFx0XHRcdHtcdFx0XHRcdFwiZ2FtbWFcIjoxXHRcdFx0fVx0XHRdXHR9LFx0e1x0XHRcImZlYXR1cmVUeXBlXCI6XCJwb2lcIixcdFx0XCJzdHlsZXJzXCI6W1x0XHRcdHtcdFx0XHRcdFwiaHVlXCI6XCIjNjc5NzE0XCJcdFx0XHR9LFx0XHRcdHtcdFx0XHRcdFwic2F0dXJhdGlvblwiOjMzLjRcdFx0XHR9LFx0XHRcdHtcdFx0XHRcdFwibGlnaHRuZXNzXCI6LTI1LjRcdFx0XHR9LFx0XHRcdHtcdFx0XHRcdFwiZ2FtbWFcIjoxXHRcdFx0fVx0XHRdXHR9XVxuXHRcdFx0fSk7XG5cblx0XHRcdGxldCBsYXN0V2luZG93ID0gZmFsc2U7XG5cblx0XHRcdGZvciAodmFyIGkgPSAwOyBpIDwgbGlzdC5sZW5ndGg7IGkrKykge1xuXG5cdFx0XHRcdGxldCBwYXJrID0gbGlzdFtpXTtcblxuXHRcdFx0XHRsZXQgaHRtbCA9IGBcblx0XHRcdFx0XHQ8aDE+JHtwYXJrLm5hbWV9PC9oMT5cblx0XHRcdFx0YDtcblxuXHRcdFx0XHRsZXQgaW5mb3dpbmRvdyA9IG5ldyBnb29nbGUubWFwcy5JbmZvV2luZG93KHtcblx0XHRcdFx0XHRjb250ZW50OiBodG1sXG5cdFx0XHRcdH0pO1xuXG5cdFx0XHRcdGxldCBtYXJrZXIgPSBuZXcgZ29vZ2xlLm1hcHMuTWFya2VyKHtcblx0XHRcdFx0XHRwb3NpdGlvbjoge2xhdDogcGFyay5sYXRpdHVkZSwgbG5nOiBwYXJrLmxvbmdpdHVkZX0sXG5cdFx0XHRcdFx0bWFwOiBtYXAsXG5cdFx0XHRcdFx0dGl0bGU6IHBhcmsubmFtZVxuXHRcdFx0XHR9KTtcblxuXHRcdFx0XHRtYXJrZXIuYWRkTGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24oKSB7XG5cdFx0XHRcdFx0b25NYXJrZXJDbGljayhwYXJrKTtcblx0XHRcdFx0XHRpbmZvd2luZG93Lm9wZW4obWFwLCBtYXJrZXIpO1xuXHRcdFx0XHRcdGlmIChsYXN0V2luZG93KSB7XG5cdFx0XHRcdFx0XHRsYXN0V2luZG93LmNsb3NlKCk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdGxhc3RXaW5kb3cgPSBpbmZvd2luZG93O1xuXHRcdFx0XHR9KTtcblx0XHRcdH1cblxuXHRcdFx0cmV0dXJuIG1hcDtcblxuXHRcdH1cblxuXHR9XG5cblx0cmV0dXJuIHBtb2Q7XG59XG5cbmV4cG9ydCB7UGFya3NNb2R1bGV9OyIsImxldCBWaWV3cyA9ICgpID0+IHtcblxuXHRsZXQgdmlld3MgPSB7XG5cblx0XHRnZXRFeHBlcmllbmNlQ2FyZDogKG1vZGVsKSA9PiB7XG5cdFx0XHRsZXQgaHRtbCA9IGBcblx0XHRcdFx0PGRpdiBjbGFzcz1cIm1lZGlhXCI+XG5cdFx0XHRcdFx0PGRpdiBjbGFzcz1cIm1lZGlhLWxlZnRcIj5cblx0XHRcdFx0XHRcdDxmaWd1cmUgY2xhc3M9XCJpbWFnZSBpcy02NHg2NFwiPlxuXHRcdFx0XHRcdFx0XHQ8aW1nIHNyYz1cImh0dHBzOi8vYnVsbWEuaW8vaW1hZ2VzL3BsYWNlaG9sZGVycy85Nng5Ni5wbmdcIiBhbHQ9XCJQbGFjZWhvbGRlciBpbWFnZVwiPlxuXHRcdFx0XHRcdFx0PC9maWd1cmU+XG5cdFx0XHRcdFx0PC9kaXY+XG5cdFx0XHRcdFx0PGRpdiBjbGFzcz1cIm1lZGlhLWNvbnRlbnRcIj5cblx0XHRcdFx0XHRcdDxoMyBjbGFzcz1cInRpdGxlIGlzLTNcIj4ke21vZGVsLnRpdGxlfTwvaDM+XG5cdFx0XHRcdFx0XHQ8cCBjbGFzcz1cInN1YnRpdGxlIGlzLTVcIj4ke21vZGVsLnJhbmdlfTwvcD5cblx0XHRcdFx0XHRcdDxwPiR7bW9kZWwuZGVzY3JpcHRpb259PC9wPlxuXHRcdFx0XHRcdDwvZGl2PlxuXHRcdFx0XHQ8L2Rpdj5cblx0XHRcdGA7XG5cdFx0XHRsZXQgZGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG5cdFx0XHRcdGRpdi5pbm5lckhUTUwgPSBodG1sO1xuXHRcdFx0XHRkaXYuY2xhc3NMaXN0LmFkZCgncHJvZmlsZS1leHBlcmllbmNlJyk7XG5cdFx0XHRyZXR1cm4gZGl2O1xuXHRcdH0sXG5cblx0XHRnZXRTa2lsbFJvdzogKG1vZGVsKSA9PiB7XG5cdFx0XHRsZXQgY2xhc3NDb2xvciA9IChtb2RlbC5mcmVxdWVuY3kgPCAwLjQ1KSA/ICdpcy1zdWNjZXNzJyA6ICdpcy13YXJuaW5nJztcblx0XHRcdGxldCBodG1sID0gYFxuXHRcdFx0XHQ8dGQ+XG5cdFx0XHRcdFx0PGRpdiBjbGFzcz1cInRhZ3MgaGFzLWFkZG9uc1wiPlxuXHRcdFx0XHRcdFx0PHNwYW4gY2xhc3M9XCJ0YWcgaXMtbWVkaXVtXCI+JHttb2RlbC5za2lsbH08L2k+PC9zcGFuPlxuXHRcdFx0XHRcdFx0PHNwYW4gY2xhc3M9XCJ0YWcgaXMtbWVkaXVtICR7Y2xhc3NDb2xvcn1cIj4ke21vZGVsLmVuZG9yc2VtZW50c308L2k+PC9zcGFuPlxuXHRcdFx0XHRcdDwvZGl2PlxuXHRcdFx0XHQ8L3RkPlxuXHRcdFx0XHQ8dGQ+XG5cdFx0XHRcdFx0PHAgY2xhc3M9XCJoYXMtdGV4dC1yaWdodFwiPjxzcGFuIGNsYXNzPVwiaXMtYm9sZFwiPiR7TWF0aC5yb3VuZChtb2RlbC5mcmVxdWVuY3kgKiAxMDApfSU8L3NwYW4+IG9mIG1lbWJlcnMgYXJlIHNraWxsZWQgaW4gdGhpcy48L3A+XG5cdFx0XHRcdDwvdGQ+XG5cdFx0XHRgO1xuXHRcdFx0bGV0IHRyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgndHInKTtcblx0XHRcdFx0dHIuaW5uZXJIVE1MID0gaHRtbDtcblx0XHRcdHJldHVybiB0cjtcblx0XHR9XG5cblx0fVxuXG5cdHJldHVybiB2aWV3cztcblxufVxuXG5leHBvcnQge1ZpZXdzfTsiXX0=\n"]}