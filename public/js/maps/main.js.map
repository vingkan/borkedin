{"version":3,"sources":["main.js"],"names":["e","t","n","r","s","o","u","a","require","i","f","Error","code","l","exports","call","length","1","module","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","2","showPage","id","Array","from","document","getElementsByClassName","forEach","page","style","display","getElementById","parksModule","ParksModule","config","firebase","initializeApp","database","qs","split","join","tokens","params","re","exec","decodeURIComponent","getQueryParams","location","search","game","console","log","routes","/profile/:profileid","profileid","/parks/:cityid","cityid","getParks","then","data","catch","error","Router","init","./config","./parks","3","Object","defineProperty","value","cityParksGetter","nashville","Promise","resolve","reject","$","get","dog_park","cleaned","filter","park","mapped_location","map","name","park_name","latitude","coordinates","longitude","chicago","$where","losangeles","locationtype","geolat","geolong","location_name","parseFloat","newyork","typecatego","the_geom","coords","signname","seattle","location_1","common_name","calgary","description","getter"],"mappings":"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","file":"../main.js","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){\n\"use strict\";\n\nmodule.exports = {\n\tapiKey: \"AIzaSyCsTL7ZOxNOAUByHQVgGAUIW6OcjXbaCDQ\",\n\tauthDomain: \"borkedin.firebaseapp.com\",\n\tdatabaseURL: \"https://borkedin.firebaseio.com\",\n\tprojectId: \"borkedin\",\n\tstorageBucket: \"\",\n\tmessagingSenderId: \"769825906375\"\n};\n\n},{}],2:[function(require,module,exports){\n'use strict';\n\nvar pm = require('./parks');\nvar parksModule = pm.ParksModule();\nvar config = require('./config');\nvar FirebaseApp = firebase.initializeApp(config);\nvar db = FirebaseApp.database();\n\nvar PARAMS = getQueryParams(document.location.search);\nvar GAME = PARAMS.game;\n\nfunction getQueryParams(qs) {\n\tqs = qs.split('+').join(' ');\n\tvar params = {},\n\t    tokens,\n\t    re = /[?&]?([^=]+)=([^&]*)/g;\n\twhile (tokens = re.exec(qs)) {\n\t\tparams[decodeURIComponent(tokens[1])] = decodeURIComponent(tokens[2]);\n\t}\n\treturn params;\n}\n\nfunction showPage(id) {\n\tArray.from(document.getElementsByClassName('page-hidden')).forEach(function (page) {\n\t\tpage.style.display = 'none';\n\t});\n\tdocument.getElementById('page-' + id).style.display = 'block';\n}\n\nconsole.log('Dogs rule.');\n\nvar routes = {\n\t'/profile/:profileid': function profileProfileid(profileid) {\n\t\tconsole.log(profileid);\n\t\tshowPage('profile');\n\t},\n\t'/parks/:cityid': function parksCityid(cityid) {\n\t\tconsole.log(cityid);\n\t\tshowPage('parks');\n\t\tparksModule.getParks(cityid).then(function (data) {\n\t\t\tconsole.log(data);\n\t\t}).catch(console.error);\n\t}\n};\n\nvar router = Router(routes);\nrouter.init();\n\n},{\"./config\":1,\"./parks\":3}],3:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\nvar cityParksGetter = {\n\n\tnashville: function nashville() {\n\t\treturn new Promise(function (resolve, reject) {\n\t\t\t$.get('https://data.nashville.gov/resource/xbru-cfzi.json', {\n\t\t\t\t'dog_park': 'Yes'\n\t\t\t}).then(function (data) {\n\t\t\t\tvar cleaned = data.filter(function (park) {\n\t\t\t\t\treturn park.mapped_location;\n\t\t\t\t}).map(function (park) {\n\t\t\t\t\tvar entry = {\n\t\t\t\t\t\tname: park.park_name,\n\t\t\t\t\t\tlatitude: park.mapped_location.coordinates[0],\n\t\t\t\t\t\tlongitude: park.mapped_location.coordinates[1],\n\t\t\t\t\t\tcityid: 'nashville',\n\t\t\t\t\t\tdata: park\n\t\t\t\t\t};\n\t\t\t\t\treturn entry;\n\t\t\t\t});\n\t\t\t\tresolve(cleaned);\n\t\t\t}).catch(reject);\n\t\t});\n\t},\n\n\tchicago: function chicago() {\n\t\treturn new Promise(function (resolve, reject) {\n\t\t\t$.get(\"https://data.cityofchicago.org/resource/4xwe-2j3y.json\", {\n\t\t\t\t'$where': 'dog_friendly >= 0'\n\t\t\t}).then(function (data) {\n\t\t\t\tvar cleaned = data.filter(function (park) {\n\t\t\t\t\treturn park.location;\n\t\t\t\t}).map(function (park) {\n\t\t\t\t\tvar entry = {\n\t\t\t\t\t\tname: park.park_name,\n\t\t\t\t\t\tlatitude: park.location.coordinates[0],\n\t\t\t\t\t\tlongitude: park.location.coordinates[1],\n\t\t\t\t\t\tcityid: 'chicago',\n\t\t\t\t\t\tdata: park\n\t\t\t\t\t};\n\t\t\t\t\treturn entry;\n\t\t\t\t});\n\t\t\t\tresolve(cleaned);\n\t\t\t}).catch(reject);\n\t\t});\n\t},\n\n\tlosangeles: function losangeles() {\n\t\treturn new Promise(function (resolve, reject) {\n\t\t\t$.get('https://data.lacity.org/resource/xyvg-dst2.json', {\n\t\t\t\t'locationtype': 'Dog Parks'\n\t\t\t}).then(function (data) {\n\t\t\t\tvar cleaned = data.filter(function (park) {\n\t\t\t\t\treturn park.geolat && park.geolong;\n\t\t\t\t}).map(function (park) {\n\t\t\t\t\tvar entry = {\n\t\t\t\t\t\tname: park.location_name,\n\t\t\t\t\t\tlatitude: parseFloat(park.geolat),\n\t\t\t\t\t\tlongitude: parseFloat(park.geolong),\n\t\t\t\t\t\tcityid: 'losangeles',\n\t\t\t\t\t\tdata: park\n\t\t\t\t\t};\n\t\t\t\t\treturn entry;\n\t\t\t\t});\n\t\t\t\tresolve(cleaned);\n\t\t\t}).catch(reject);\n\t\t});\n\t},\n\n\tnewyork: function newyork() {\n\t\treturn new Promise(function (resolve, reject) {\n\t\t\t$.get('https://data.cityofnewyork.us/resource/p7jc-c8ak.json', {\n\t\t\t\t'typecatego': 'Community Park'\n\t\t\t}).then(function (data) {\n\t\t\t\tvar cleaned = data.filter(function (park) {\n\t\t\t\t\treturn park.the_geom;\n\t\t\t\t}).map(function (park) {\n\t\t\t\t\tvar coords = park.the_geom.coordinates[0][0][0];\n\t\t\t\t\tvar entry = {\n\t\t\t\t\t\tname: park.signname,\n\t\t\t\t\t\tlatitude: coords[0],\n\t\t\t\t\t\tlongitude: coords[1],\n\t\t\t\t\t\tcityid: 'newyork',\n\t\t\t\t\t\tdata: park\n\t\t\t\t\t};\n\t\t\t\t\treturn entry;\n\t\t\t\t});\n\t\t\t\tresolve(cleaned);\n\t\t\t}).catch(reject);\n\t\t});\n\t},\n\n\tseattle: function seattle() {\n\t\treturn new Promise(function (resolve, reject) {\n\t\t\t$.get('https://data.seattle.gov/resource/fa7z-wkeh.json', {}).then(function (data) {\n\t\t\t\tvar cleaned = data.filter(function (park) {\n\t\t\t\t\treturn park.location_1;\n\t\t\t\t}).map(function (park) {\n\t\t\t\t\tvar entry = {\n\t\t\t\t\t\tname: park.common_name,\n\t\t\t\t\t\tlatitude: parseFloat(park.location_1.latitude),\n\t\t\t\t\t\tlongitude: parseFloat(park.location_1.longitude),\n\t\t\t\t\t\tcityid: 'seattle',\n\t\t\t\t\t\tdata: park\n\t\t\t\t\t};\n\t\t\t\t\treturn entry;\n\t\t\t\t});\n\t\t\t\tresolve(cleaned);\n\t\t\t}).catch(reject);\n\t\t});\n\t},\n\n\tcalgary: function calgary() {\n\t\treturn new Promise(function (resolve, reject) {\n\t\t\t$.get('https://data.calgary.ca/resource/enr4-crti.json', {}).then(function (data) {\n\t\t\t\tvar cleaned = data.filter(function (park) {\n\t\t\t\t\treturn park.the_geom;\n\t\t\t\t}).map(function (park) {\n\t\t\t\t\tvar coords = park.the_geom.coordinates[0][0][0];\n\t\t\t\t\tvar entry = {\n\t\t\t\t\t\tname: park.description,\n\t\t\t\t\t\tlatitude: coords[0],\n\t\t\t\t\t\tlongitude: coords[1],\n\t\t\t\t\t\tcityid: 'calgary',\n\t\t\t\t\t\tdata: park\n\t\t\t\t\t};\n\t\t\t\t\treturn entry;\n\t\t\t\t});\n\t\t\t\tresolve(cleaned);\n\t\t\t}).catch(reject);\n\t\t});\n\t}\n\n};\n\nvar ParksModule = function ParksModule() {\n\n\tvar pmod = {\n\n\t\tgetParks: function getParks(cityid) {\n\t\t\treturn new Promise(function (resolve, reject) {\n\t\t\t\tvar getter = cityParksGetter[cityid];\n\t\t\t\tif (getter) {\n\t\t\t\t\tgetter().then(resolve).catch(reject);\n\t\t\t\t} else {\n\t\t\t\t\treject('We do not currently have data for this city. Message your city council!');\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\n\t};\n\n\treturn pmod;\n};\n\nexports.ParksModule = ParksModule;\n\n},{}]},{},[2])\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJzcmMvanMvY29uZmlnLmpzIiwic3JjL2pzL21haW4uanMiLCJzcmMvanMvcGFya3MuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7OztBQ0FBLE9BQU8sT0FBUCxHQUFpQjtBQUNoQixTQUFRLHlDQURRO0FBRWhCLGFBQVksMEJBRkk7QUFHaEIsY0FBYSxpQ0FIRztBQUloQixZQUFXLFVBSks7QUFLaEIsZ0JBQWUsRUFMQztBQU1oQixvQkFBbUI7QUFOSCxDQUFqQjs7Ozs7QUNBQSxJQUFJLEtBQUssUUFBUSxTQUFSLENBQVQ7QUFDQSxJQUFJLGNBQWMsR0FBRyxXQUFILEVBQWxCO0FBQ0EsSUFBSSxTQUFTLFFBQVEsVUFBUixDQUFiO0FBQ0EsSUFBSSxjQUFjLFNBQVMsYUFBVCxDQUF1QixNQUF2QixDQUFsQjtBQUNBLElBQUksS0FBSyxZQUFZLFFBQVosRUFBVDs7QUFFQSxJQUFNLFNBQVMsZUFBZSxTQUFTLFFBQVQsQ0FBa0IsTUFBakMsQ0FBZjtBQUNBLElBQU0sT0FBTyxPQUFPLElBQXBCOztBQUVBLFNBQVMsY0FBVCxDQUF3QixFQUF4QixFQUE0QjtBQUMzQixNQUFLLEdBQUcsS0FBSCxDQUFTLEdBQVQsRUFBYyxJQUFkLENBQW1CLEdBQW5CLENBQUw7QUFDQSxLQUFJLFNBQVMsRUFBYjtBQUFBLEtBQ0MsTUFERDtBQUFBLEtBRUMsS0FBSyx1QkFGTjtBQUdBLFFBQU8sU0FBUyxHQUFHLElBQUgsQ0FBUSxFQUFSLENBQWhCLEVBQTZCO0FBQzVCLFNBQU8sbUJBQW1CLE9BQU8sQ0FBUCxDQUFuQixDQUFQLElBQXdDLG1CQUFtQixPQUFPLENBQVAsQ0FBbkIsQ0FBeEM7QUFDQTtBQUNELFFBQU8sTUFBUDtBQUNBOztBQUVELFNBQVMsUUFBVCxDQUFrQixFQUFsQixFQUFzQjtBQUNyQixPQUFNLElBQU4sQ0FBVyxTQUFTLHNCQUFULENBQWdDLGFBQWhDLENBQVgsRUFB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QUFFWCxnQkFBVSxPQUFPLENBQVAsQ0FGQztBQUdYLGlCQUFXLE9BQU8sQ0FBUCxDQUhBO0FBSVgsY0FBUSxTQUpHO0FBS1gsWUFBTTtBQUxLLE1BQVo7QUFPQSxZQUFPLEtBQVA7QUFDQSxLQVphLENBQWQ7QUFhQSxZQUFRLE9BQVI7QUFDQSxJQWpCRCxFQWlCRyxLQWpCSCxDQWlCUyxNQWpCVDtBQWtCQSxHQW5CTSxDQUFQO0FBb0JBOztBQXRJb0IsQ0FBdEI7O0FBMElBLElBQUksY0FBYyxTQUFkLFdBQWMsR0FBTTs7QUFFdkIsS0FBSSxPQUFPOztBQUVWLFlBQVUsa0JBQUMsTUFBRCxFQUFZO0FBQ3JCLFVBQU8sSUFBSSxPQUFKLENBQVksVUFBQyxPQUFELEVBQVUsTUFBVixFQUFxQjtBQUN2QyxRQUFJLFNBQVMsZ0JBQWdCLE1BQWhCLENBQWI7QUFDQSxRQUFJLE1BQUosRUFBWTtBQUNYLGNBQVMsSUFBVCxDQUFjLE9BQWQsRUFBdUIsS0FBdkIsQ0FBNkIsTUFBN0I7QUFDQSxLQUZELE1BRU87QUFDTixZQUFPLHlFQUFQO0FBQ0E7QUFDRCxJQVBNLENBQVA7QUFRQTs7QUFYUyxFQUFYOztBQWVBLFFBQU8sSUFBUDtBQUNBLENBbEJEOztRQW9CUSxXLEdBQUEsVyIsImZpbGUiOiJnZW5lcmF0ZWQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlc0NvbnRlbnQiOlsiKGZ1bmN0aW9uIGUodCxuLHIpe2Z1bmN0aW9uIHMobyx1KXtpZighbltvXSl7aWYoIXRbb10pe3ZhciBhPXR5cGVvZiByZXF1aXJlPT1cImZ1bmN0aW9uXCImJnJlcXVpcmU7aWYoIXUmJmEpcmV0dXJuIGEobywhMCk7aWYoaSlyZXR1cm4gaShvLCEwKTt2YXIgZj1uZXcgRXJyb3IoXCJDYW5ub3QgZmluZCBtb2R1bGUgJ1wiK28rXCInXCIpO3Rocm93IGYuY29kZT1cIk1PRFVMRV9OT1RfRk9VTkRcIixmfXZhciBsPW5bb109e2V4cG9ydHM6e319O3Rbb11bMF0uY2FsbChsLmV4cG9ydHMsZnVuY3Rpb24oZSl7dmFyIG49dFtvXVsxXVtlXTtyZXR1cm4gcyhuP246ZSl9LGwsbC5leHBvcnRzLGUsdCxuLHIpfXJldHVybiBuW29dLmV4cG9ydHN9dmFyIGk9dHlwZW9mIHJlcXVpcmU9PVwiZnVuY3Rpb25cIiYmcmVxdWlyZTtmb3IodmFyIG89MDtvPHIubGVuZ3RoO28rKylzKHJbb10pO3JldHVybiBzfSkiLCJtb2R1bGUuZXhwb3J0cyA9IHtcblx0YXBpS2V5OiBcIkFJemFTeUNzVEw3Wk94Tk9BVUJ5SFFWZ0dBVUlXNk9jalhiYUNEUVwiLFxuXHRhdXRoRG9tYWluOiBcImJvcmtlZGluLmZpcmViYXNlYXBwLmNvbVwiLFxuXHRkYXRhYmFzZVVSTDogXCJodHRwczovL2JvcmtlZGluLmZpcmViYXNlaW8uY29tXCIsXG5cdHByb2plY3RJZDogXCJib3JrZWRpblwiLFxuXHRzdG9yYWdlQnVja2V0OiBcIlwiLFxuXHRtZXNzYWdpbmdTZW5kZXJJZDogXCI3Njk4MjU5MDYzNzVcIlxufSIsImxldCBwbSA9IHJlcXVpcmUoJy4vcGFya3MnKTtcbmxldCBwYXJrc01vZHVsZSA9IHBtLlBhcmtzTW9kdWxlKCk7XG5sZXQgY29uZmlnID0gcmVxdWlyZSgnLi9jb25maWcnKTtcbmxldCBGaXJlYmFzZUFwcCA9IGZpcmViYXNlLmluaXRpYWxpemVBcHAoY29uZmlnKTtcbmxldCBkYiA9IEZpcmViYXNlQXBwLmRhdGFiYXNlKCk7XG5cbmNvbnN0IFBBUkFNUyA9IGdldFF1ZXJ5UGFyYW1zKGRvY3VtZW50LmxvY2F0aW9uLnNlYXJjaCk7XG5jb25zdCBHQU1FID0gUEFSQU1TLmdhbWU7XG5cbmZ1bmN0aW9uIGdldFF1ZXJ5UGFyYW1zKHFzKSB7XG5cdHFzID0gcXMuc3BsaXQoJysnKS5qb2luKCcgJyk7XG5cdHZhciBwYXJhbXMgPSB7fSxcblx0XHR0b2tlbnMsXG5cdFx0cmUgPSAvWz8mXT8oW149XSspPShbXiZdKikvZztcblx0d2hpbGUgKHRva2VucyA9IHJlLmV4ZWMocXMpKSB7XG5cdFx0cGFyYW1zW2RlY29kZVVSSUNvbXBvbmVudCh0b2tlbnNbMV0pXSA9IGRlY29kZVVSSUNvbXBvbmVudCh0b2tlbnNbMl0pO1xuXHR9XG5cdHJldHVybiBwYXJhbXM7XG59XG5cbmZ1bmN0aW9uIHNob3dQYWdlKGlkKSB7XG5cdEFycmF5LmZyb20oZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgncGFnZS1oaWRkZW4nKSkuZm9yRWFjaCgocGFnZSkgPT4ge1xuXHRcdHBhZ2Uuc3R5bGUuZGlzcGxheSA9ICdub25lJztcblx0fSk7XG5cdGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGBwYWdlLSR7aWR9YCkuc3R5bGUuZGlzcGxheSA9ICdibG9jayc7XG59XG5cbmNvbnNvbGUubG9nKCdEb2dzIHJ1bGUuJylcblxubGV0IHJvdXRlcyA9IHtcblx0Jy9wcm9maWxlLzpwcm9maWxlaWQnOiAocHJvZmlsZWlkKSA9PiB7XG5cdFx0Y29uc29sZS5sb2cocHJvZmlsZWlkKTtcblx0XHRzaG93UGFnZSgncHJvZmlsZScpO1xuXHR9LFxuXHQnL3BhcmtzLzpjaXR5aWQnOiAoY2l0eWlkKSA9PiB7XG5cdFx0Y29uc29sZS5sb2coY2l0eWlkKTtcblx0XHRzaG93UGFnZSgncGFya3MnKTtcblx0XHRwYXJrc01vZHVsZS5nZXRQYXJrcyhjaXR5aWQpLnRoZW4oKGRhdGEpID0+IHtcblx0XHRcdGNvbnNvbGUubG9nKGRhdGEpO1xuXHRcdH0pLmNhdGNoKGNvbnNvbGUuZXJyb3IpO1xuXHR9XG59XG5cbmxldCByb3V0ZXIgPSBSb3V0ZXIocm91dGVzKTtcbnJvdXRlci5pbml0KCk7IiwibGV0IGNpdHlQYXJrc0dldHRlciA9IHtcblxuXHRuYXNodmlsbGU6ICgpID0+IHtcblx0XHRyZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuXHRcdFx0JC5nZXQoJ2h0dHBzOi8vZGF0YS5uYXNodmlsbGUuZ292L3Jlc291cmNlL3hicnUtY2Z6aS5qc29uJywge1xuXHRcdFx0XHQnZG9nX3BhcmsnOiAnWWVzJ1xuXHRcdFx0fSkudGhlbigoZGF0YSkgPT4ge1xuXHRcdFx0XHRsZXQgY2xlYW5lZCA9IGRhdGEuZmlsdGVyKChwYXJrKSA9PiB7XG5cdFx0XHRcdFx0cmV0dXJuIHBhcmsubWFwcGVkX2xvY2F0aW9uO1xuXHRcdFx0XHR9KS5tYXAoKHBhcmspID0+IHtcblx0XHRcdFx0XHRsZXQgZW50cnkgPSB7XG5cdFx0XHRcdFx0XHRuYW1lOiBwYXJrLnBhcmtfbmFtZSxcblx0XHRcdFx0XHRcdGxhdGl0dWRlOiBwYXJrLm1hcHBlZF9sb2NhdGlvbi5jb29yZGluYXRlc1swXSxcblx0XHRcdFx0XHRcdGxvbmdpdHVkZTogcGFyay5tYXBwZWRfbG9jYXRpb24uY29vcmRpbmF0ZXNbMV0sXG5cdFx0XHRcdFx0XHRjaXR5aWQ6ICduYXNodmlsbGUnLFxuXHRcdFx0XHRcdFx0ZGF0YTogcGFya1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHRyZXR1cm4gZW50cnk7XG5cdFx0XHRcdH0pO1xuXHRcdFx0XHRyZXNvbHZlKGNsZWFuZWQpO1xuXHRcdFx0fSkuY2F0Y2gocmVqZWN0KTtcblx0XHR9KTtcblx0fSxcblxuXHRjaGljYWdvOiAoKSA9PiB7XG5cdFx0cmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcblx0XHRcdCQuZ2V0KFwiaHR0cHM6Ly9kYXRhLmNpdHlvZmNoaWNhZ28ub3JnL3Jlc291cmNlLzR4d2UtMmozeS5qc29uXCIsIHtcblx0XHRcdFx0JyR3aGVyZSc6ICdkb2dfZnJpZW5kbHkgPj0gMCdcblx0XHRcdH0pLnRoZW4oKGRhdGEpID0+IHtcblx0XHRcdFx0bGV0IGNsZWFuZWQgPSBkYXRhLmZpbHRlcigocGFyaykgPT4ge1xuXHRcdFx0XHRcdHJldHVybiBwYXJrLmxvY2F0aW9uO1xuXHRcdFx0XHR9KS5tYXAoKHBhcmspID0+IHtcblx0XHRcdFx0XHRsZXQgZW50cnkgPSB7XG5cdFx0XHRcdFx0XHRuYW1lOiBwYXJrLnBhcmtfbmFtZSxcblx0XHRcdFx0XHRcdGxhdGl0dWRlOiBwYXJrLmxvY2F0aW9uLmNvb3JkaW5hdGVzWzBdLFxuXHRcdFx0XHRcdFx0bG9uZ2l0dWRlOiBwYXJrLmxvY2F0aW9uLmNvb3JkaW5hdGVzWzFdLFxuXHRcdFx0XHRcdFx0Y2l0eWlkOiAnY2hpY2FnbycsXG5cdFx0XHRcdFx0XHRkYXRhOiBwYXJrXG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdHJldHVybiBlbnRyeTtcblx0XHRcdFx0fSk7XG5cdFx0XHRcdHJlc29sdmUoY2xlYW5lZCk7XG5cdFx0XHR9KS5jYXRjaChyZWplY3QpO1xuXHRcdH0pO1xuXHR9LFxuXG5cdGxvc2FuZ2VsZXM6ICgpID0+IHtcblx0XHRyZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuXHRcdFx0JC5nZXQoJ2h0dHBzOi8vZGF0YS5sYWNpdHkub3JnL3Jlc291cmNlL3h5dmctZHN0Mi5qc29uJywge1xuXHRcdFx0XHQnbG9jYXRpb250eXBlJzogJ0RvZyBQYXJrcydcblx0XHRcdH0pLnRoZW4oKGRhdGEpID0+IHtcblx0XHRcdFx0bGV0IGNsZWFuZWQgPSBkYXRhLmZpbHRlcigocGFyaykgPT4ge1xuXHRcdFx0XHRcdHJldHVybiBwYXJrLmdlb2xhdCAmJiBwYXJrLmdlb2xvbmc7XG5cdFx0XHRcdH0pLm1hcCgocGFyaykgPT4ge1xuXHRcdFx0XHRcdGxldCBlbnRyeSA9IHtcblx0XHRcdFx0XHRcdG5hbWU6IHBhcmsubG9jYXRpb25fbmFtZSxcblx0XHRcdFx0XHRcdGxhdGl0dWRlOiBwYXJzZUZsb2F0KHBhcmsuZ2VvbGF0KSxcblx0XHRcdFx0XHRcdGxvbmdpdHVkZTogcGFyc2VGbG9hdChwYXJrLmdlb2xvbmcpLFxuXHRcdFx0XHRcdFx0Y2l0eWlkOiAnbG9zYW5nZWxlcycsXG5cdFx0XHRcdFx0XHRkYXRhOiBwYXJrXG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdHJldHVybiBlbnRyeTtcblx0XHRcdFx0fSk7XG5cdFx0XHRcdHJlc29sdmUoY2xlYW5lZCk7XG5cdFx0XHR9KS5jYXRjaChyZWplY3QpO1xuXHRcdH0pO1xuXHR9LFxuXG5cdG5ld3lvcms6ICgpID0+IHtcblx0XHRyZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuXHRcdFx0JC5nZXQoJ2h0dHBzOi8vZGF0YS5jaXR5b2ZuZXd5b3JrLnVzL3Jlc291cmNlL3A3amMtYzhhay5qc29uJywge1xuXHRcdFx0XHQndHlwZWNhdGVnbyc6ICdDb21tdW5pdHkgUGFyaydcblx0XHRcdH0pLnRoZW4oKGRhdGEpID0+IHtcblx0XHRcdFx0bGV0IGNsZWFuZWQgPSBkYXRhLmZpbHRlcigocGFyaykgPT4ge1xuXHRcdFx0XHRcdHJldHVybiBwYXJrLnRoZV9nZW9tO1xuXHRcdFx0XHR9KS5tYXAoKHBhcmspID0+IHtcblx0XHRcdFx0XHRsZXQgY29vcmRzID0gcGFyay50aGVfZ2VvbS5jb29yZGluYXRlc1swXVswXVswXTtcblx0XHRcdFx0XHRsZXQgZW50cnkgPSB7XG5cdFx0XHRcdFx0XHRuYW1lOiBwYXJrLnNpZ25uYW1lLFxuXHRcdFx0XHRcdFx0bGF0aXR1ZGU6IGNvb3Jkc1swXSxcblx0XHRcdFx0XHRcdGxvbmdpdHVkZTogY29vcmRzWzFdLFxuXHRcdFx0XHRcdFx0Y2l0eWlkOiAnbmV3eW9yaycsXG5cdFx0XHRcdFx0XHRkYXRhOiBwYXJrXG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdHJldHVybiBlbnRyeTtcblx0XHRcdFx0fSk7XG5cdFx0XHRcdHJlc29sdmUoY2xlYW5lZCk7XG5cdFx0XHR9KS5jYXRjaChyZWplY3QpO1xuXHRcdH0pO1xuXHR9LFxuXG5cdHNlYXR0bGU6ICgpID0+IHtcblx0XHRyZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuXHRcdFx0JC5nZXQoJ2h0dHBzOi8vZGF0YS5zZWF0dGxlLmdvdi9yZXNvdXJjZS9mYTd6LXdrZWguanNvbicsIHtcblxuXHRcdFx0fSkudGhlbigoZGF0YSkgPT4ge1xuXHRcdFx0XHRsZXQgY2xlYW5lZCA9IGRhdGEuZmlsdGVyKChwYXJrKSA9PiB7XG5cdFx0XHRcdFx0cmV0dXJuIHBhcmsubG9jYXRpb25fMTtcblx0XHRcdFx0fSkubWFwKChwYXJrKSA9PiB7XG5cdFx0XHRcdFx0bGV0IGVudHJ5ID0ge1xuXHRcdFx0XHRcdFx0bmFtZTogcGFyay5jb21tb25fbmFtZSxcblx0XHRcdFx0XHRcdGxhdGl0dWRlOiBwYXJzZUZsb2F0KHBhcmsubG9jYXRpb25fMS5sYXRpdHVkZSksXG5cdFx0XHRcdFx0XHRsb25naXR1ZGU6IHBhcnNlRmxvYXQocGFyay5sb2NhdGlvbl8xLmxvbmdpdHVkZSksXG5cdFx0XHRcdFx0XHRjaXR5aWQ6ICdzZWF0dGxlJyxcblx0XHRcdFx0XHRcdGRhdGE6IHBhcmtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0cmV0dXJuIGVudHJ5O1xuXHRcdFx0XHR9KTtcblx0XHRcdFx0cmVzb2x2ZShjbGVhbmVkKTtcblx0XHRcdH0pLmNhdGNoKHJlamVjdCk7XG5cdFx0fSk7XG5cdH0sXG5cblx0Y2FsZ2FyeTogKCkgPT4ge1xuXHRcdHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG5cdFx0XHQkLmdldCgnaHR0cHM6Ly9kYXRhLmNhbGdhcnkuY2EvcmVzb3VyY2UvZW5yNC1jcnRpLmpzb24nLCB7XG5cblx0XHRcdH0pLnRoZW4oKGRhdGEpID0+IHtcblx0XHRcdFx0bGV0IGNsZWFuZWQgPSBkYXRhLmZpbHRlcigocGFyaykgPT4ge1xuXHRcdFx0XHRcdHJldHVybiBwYXJrLnRoZV9nZW9tO1xuXHRcdFx0XHR9KS5tYXAoKHBhcmspID0+IHtcblx0XHRcdFx0XHRsZXQgY29vcmRzID0gcGFyay50aGVfZ2VvbS5jb29yZGluYXRlc1swXVswXVswXTtcblx0XHRcdFx0XHRsZXQgZW50cnkgPSB7XG5cdFx0XHRcdFx0XHRuYW1lOiBwYXJrLmRlc2NyaXB0aW9uLFxuXHRcdFx0XHRcdFx0bGF0aXR1ZGU6IGNvb3Jkc1swXSxcblx0XHRcdFx0XHRcdGxvbmdpdHVkZTogY29vcmRzWzFdLFxuXHRcdFx0XHRcdFx0Y2l0eWlkOiAnY2FsZ2FyeScsXG5cdFx0XHRcdFx0XHRkYXRhOiBwYXJrXG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdHJldHVybiBlbnRyeTtcblx0XHRcdFx0fSk7XG5cdFx0XHRcdHJlc29sdmUoY2xlYW5lZCk7XG5cdFx0XHR9KS5jYXRjaChyZWplY3QpO1xuXHRcdH0pO1xuXHR9XG5cbn1cblxubGV0IFBhcmtzTW9kdWxlID0gKCkgPT4ge1xuXG5cdGxldCBwbW9kID0ge1xuXG5cdFx0Z2V0UGFya3M6IChjaXR5aWQpID0+IHtcblx0XHRcdHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG5cdFx0XHRcdGxldCBnZXR0ZXIgPSBjaXR5UGFya3NHZXR0ZXJbY2l0eWlkXTtcblx0XHRcdFx0aWYgKGdldHRlcikge1xuXHRcdFx0XHRcdGdldHRlcigpLnRoZW4ocmVzb2x2ZSkuY2F0Y2gocmVqZWN0KTtcblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRyZWplY3QoJ1dlIGRvIG5vdCBjdXJyZW50bHkgaGF2ZSBkYXRhIGZvciB0aGlzIGNpdHkuIE1lc3NhZ2UgeW91ciBjaXR5IGNvdW5jaWwhJyk7XG5cdFx0XHRcdH1cblx0XHRcdH0pO1xuXHRcdH1cblxuXHR9XG5cblx0cmV0dXJuIHBtb2Q7XG59XG5cbmV4cG9ydCB7UGFya3NNb2R1bGV9OyJdfQ==\n"]}